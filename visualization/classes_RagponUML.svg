<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.2.1 (20241206.2353)
 -->
<!-- Title: classes_RagponUML Pages: 1 -->
<svg width="6694pt" height="1514pt"
 viewBox="0.00 0.00 6693.62 1514.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1510)">
<title>classes_RagponUML</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1510 6689.62,-1510 6689.62,4 -4,4"/>
<!-- ragpon.chunk_processor.AbstractChunkProcessor -->
<g id="node1" class="node">
<title>ragpon.chunk_processor.AbstractChunkProcessor</title>
<polygon fill="none" stroke="black" points="467.25,-1155.25 467.25,-1204.25 621.25,-1204.25 621.25,-1155.25 467.25,-1155.25"/>
<text text-anchor="start" x="477.12" y="-1186.95" font-family="Times New Roman,serif" font-size="14.00">AbstractChunkProcessor</text>
<polyline fill="none" stroke="black" points="467.25,-1179.75 621.25,-1179.75"/>
<polyline fill="none" stroke="black" points="467.25,-1179.75 621.25,-1179.75"/>
<text text-anchor="start" x="475.25" y="-1163.45" font-family="Times New Roman,serif" font-style="italic" font-size="14.00">process</text>
<text text-anchor="start" x="516.5" y="-1163.45" font-family="Times New Roman,serif" font-size="14.00">(text: str): list[str]</text>
</g>
<!-- ragpon.domain.document_processing_pipeline.FilePathDocumentProcessingPipeline -->
<g id="node34" class="node">
<title>ragpon.domain.document_processing_pipeline.FilePathDocumentProcessingPipeline</title>
<polygon fill="none" stroke="black" points="369,-1320.25 369,-1410.25 719.5,-1410.25 719.5,-1320.25 369,-1320.25"/>
<text text-anchor="start" x="441.88" y="-1392.95" font-family="Times New Roman,serif" font-size="14.00">FilePathDocumentProcessingPipeline</text>
<polyline fill="none" stroke="black" points="369,-1385.75 719.5,-1385.75"/>
<text text-anchor="start" x="377" y="-1368.45" font-family="Times New Roman,serif" font-size="14.00">chunk_processor</text>
<text text-anchor="start" x="377" y="-1351.95" font-family="Times New Roman,serif" font-size="14.00">metadata_generator : CustomMetadataGenerator[TMetadata]</text>
<polyline fill="none" stroke="black" points="369,-1344.75 719.5,-1344.75"/>
<text text-anchor="start" x="401.75" y="-1327.45" font-family="Times New Roman,serif" font-size="14.00">process_document(): tuple[list[str], list[TMetadata]]</text>
</g>
<!-- ragpon.chunk_processor.AbstractChunkProcessor&#45;&gt;ragpon.domain.document_processing_pipeline.FilePathDocumentProcessingPipeline -->
<g id="edge47" class="edge">
<title>ragpon.chunk_processor.AbstractChunkProcessor&#45;&gt;ragpon.domain.document_processing_pipeline.FilePathDocumentProcessingPipeline</title>
<path fill="none" stroke="black" d="M544.25,-1204.74C544.25,-1230.58 544.25,-1272.63 544.25,-1307.07"/>
<polygon fill="none" stroke="black" points="544.25,-1306.94 548.25,-1312.94 544.25,-1318.94 540.25,-1312.94 544.25,-1306.94"/>
<text text-anchor="middle" x="590" y="-1280.2" font-family="Times New Roman,serif" font-size="14.00" fill="green">chunk_processor</text>
</g>
<!-- ragpon.domain.document_processing_pipeline.AbstractDocumentProcessingPipeline -->
<g id="node2" class="node">
<title>ragpon.domain.document_processing_pipeline.AbstractDocumentProcessingPipeline</title>
<polygon fill="none" stroke="black" points="37.12,-1456.5 37.12,-1505.5 337.38,-1505.5 337.38,-1456.5 37.12,-1456.5"/>
<text text-anchor="start" x="84.5" y="-1488.2" font-family="Times New Roman,serif" font-size="14.00">AbstractDocumentProcessingPipeline</text>
<polyline fill="none" stroke="black" points="37.12,-1481 337.38,-1481"/>
<polyline fill="none" stroke="black" points="37.12,-1481 337.38,-1481"/>
<text text-anchor="start" x="45.12" y="-1464.7" font-family="Times New Roman,serif" font-style="italic" font-size="14.00">process_document</text>
<text text-anchor="start" x="145.62" y="-1464.7" font-family="Times New Roman,serif" font-size="14.00">(): tuple[list[str], list[TMetadata]]</text>
</g>
<!-- ragpon.domain.document_reader.AbstractDocumentReader -->
<g id="node3" class="node">
<title>ragpon.domain.document_reader.AbstractDocumentReader</title>
<polygon fill="none" stroke="black" points="3663.25,-234.75 3663.25,-308.25 4027.25,-308.25 4027.25,-234.75 3663.25,-234.75"/>
<text text-anchor="start" x="3774.75" y="-290.95" font-family="Times New Roman,serif" font-size="14.00">AbstractDocumentReader</text>
<polyline fill="none" stroke="black" points="3663.25,-283.75 4027.25,-283.75"/>
<text text-anchor="start" x="3812.25" y="-266.45" font-family="Times New Roman,serif" font-size="14.00">filepath : str</text>
<polyline fill="none" stroke="black" points="3663.25,-259.25 4027.25,-259.25"/>
<text text-anchor="start" x="3671.25" y="-242.95" font-family="Times New Roman,serif" font-style="italic" font-size="14.00">read_document</text>
<text text-anchor="start" x="3755.25" y="-242.95" font-family="Times New Roman,serif" font-size="14.00">(start_page_number: int): list[ChunkSourceInfo]</text>
</g>
<!-- ragpon.domain.document_reader.AbstractDocumentReaderFactory -->
<g id="node4" class="node">
<title>ragpon.domain.document_reader.AbstractDocumentReaderFactory</title>
<polygon fill="none" stroke="black" points="3122.12,-1155.25 3122.12,-1204.25 3482.38,-1204.25 3482.38,-1155.25 3122.12,-1155.25"/>
<text text-anchor="start" x="3211.12" y="-1186.95" font-family="Times New Roman,serif" font-size="14.00">AbstractDocumentReaderFactory</text>
<polyline fill="none" stroke="black" points="3122.12,-1179.75 3482.38,-1179.75"/>
<polyline fill="none" stroke="black" points="3122.12,-1179.75 3482.38,-1179.75"/>
<text text-anchor="start" x="3130.12" y="-1163.45" font-family="Times New Roman,serif" font-style="italic" font-size="14.00">get_document_reader</text>
<text text-anchor="start" x="3248.62" y="-1163.45" font-family="Times New Roman,serif" font-size="14.00">(file_path: str): AbstractDocumentReader</text>
</g>
<!-- ragpon.ml_models.embedding_model.AbstractEmbeddingModel -->
<g id="node5" class="node">
<title>ragpon.ml_models.embedding_model.AbstractEmbeddingModel</title>
<polygon fill="none" stroke="black" points="1658.38,-403 1658.38,-504.5 1996.12,-504.5 1996.12,-403 1658.38,-403"/>
<text text-anchor="start" x="1754.88" y="-487.2" font-family="Times New Roman,serif" font-size="14.00">AbstractEmbeddingModel</text>
<polyline fill="none" stroke="black" points="1658.38,-480 1996.12,-480"/>
<text text-anchor="start" x="1774.38" y="-462.7" font-family="Times New Roman,serif" font-size="14.00">passage_prefix : str</text>
<text text-anchor="start" x="1774.38" y="-446.2" font-family="Times New Roman,serif" font-size="14.00">query_prefix : str</text>
<polyline fill="none" stroke="black" points="1658.38,-439 1996.12,-439"/>
<text text-anchor="start" x="1666.38" y="-422.7" font-family="Times New Roman,serif" font-style="italic" font-size="14.00">embed_batch</text>
<text text-anchor="start" x="1738.38" y="-422.7" font-family="Times New Roman,serif" font-size="14.00">(texts: list[str], use_prefix: str): list[list[float]]</text>
<text text-anchor="start" x="1666.38" y="-408.7" font-family="Times New Roman,serif" font-style="italic" font-size="14.00">embed_single</text>
<text text-anchor="start" x="1740.62" y="-408.7" font-family="Times New Roman,serif" font-size="14.00">(text: str, use_prefix: str): list[list[float]]</text>
</g>
<!-- ragpon.ml_models.embedding_model.ChromaDBEmbeddingAdapter -->
<g id="node17" class="node">
<title>ragpon.ml_models.embedding_model.ChromaDBEmbeddingAdapter</title>
<polygon fill="none" stroke="black" points="1939.5,-562.25 1939.5,-668.75 2125,-668.75 2125,-562.25 1939.5,-562.25"/>
<text text-anchor="start" x="1947.5" y="-651.45" font-family="Times New Roman,serif" font-size="14.00">ChromaDBEmbeddingAdapter</text>
<polyline fill="none" stroke="black" points="1939.5,-644.25 2125,-644.25"/>
<text text-anchor="start" x="1981.25" y="-626.95" font-family="Times New Roman,serif" font-size="14.00">embedding_model</text>
<text text-anchor="start" x="1981.25" y="-610.45" font-family="Times New Roman,serif" font-size="14.00">passage_prefix</text>
<text text-anchor="start" x="1981.25" y="-593.95" font-family="Times New Roman,serif" font-size="14.00">query_prefix</text>
<polyline fill="none" stroke="black" points="1939.5,-586.75 2125,-586.75"/>
<text text-anchor="start" x="2030.38" y="-569.45" font-family="Times New Roman,serif" font-size="14.00"> </text>
</g>
<!-- ragpon.ml_models.embedding_model.AbstractEmbeddingModel&#45;&gt;ragpon.ml_models.embedding_model.ChromaDBEmbeddingAdapter -->
<g id="edge49" class="edge">
<title>ragpon.ml_models.embedding_model.AbstractEmbeddingModel&#45;&gt;ragpon.ml_models.embedding_model.ChromaDBEmbeddingAdapter</title>
<path fill="none" stroke="black" d="M1891.55,-504.86C1911.53,-520.43 1933.77,-537.76 1954.56,-553.96"/>
<polygon fill="none" stroke="black" points="1954.46,-553.88 1961.65,-554.41 1963.92,-561.26 1956.73,-560.72 1954.46,-553.88"/>
<text text-anchor="middle" x="1986.9" y="-526.2" font-family="Times New Roman,serif" font-size="14.00" fill="green">embedding_model</text>
</g>
<!-- ragpon.ml_models.embedding_model.CosineSimilarityCalculator -->
<g id="node23" class="node">
<title>ragpon.ml_models.embedding_model.CosineSimilarityCalculator</title>
<polygon fill="none" stroke="black" points="1205.12,-578.75 1205.12,-652.25 1655.38,-652.25 1655.38,-578.75 1205.12,-578.75"/>
<text text-anchor="start" x="1356" y="-634.95" font-family="Times New Roman,serif" font-size="14.00">CosineSimilarityCalculator</text>
<polyline fill="none" stroke="black" points="1205.12,-627.75 1655.38,-627.75"/>
<text text-anchor="start" x="1379.25" y="-610.45" font-family="Times New Roman,serif" font-size="14.00">embedding_model</text>
<polyline fill="none" stroke="black" points="1205.12,-603.25 1655.38,-603.25"/>
<text text-anchor="start" x="1213.12" y="-585.95" font-family="Times New Roman,serif" font-size="14.00">calculate_similarity(text0: str, text1: str, use_prefix0: str, use_prefix1: str): float</text>
</g>
<!-- ragpon.ml_models.embedding_model.AbstractEmbeddingModel&#45;&gt;ragpon.ml_models.embedding_model.CosineSimilarityCalculator -->
<g id="edge50" class="edge">
<title>ragpon.ml_models.embedding_model.AbstractEmbeddingModel&#45;&gt;ragpon.ml_models.embedding_model.CosineSimilarityCalculator</title>
<path fill="none" stroke="black" d="M1702.45,-504.97C1647.62,-527.03 1584.03,-552.62 1532.12,-573.51"/>
<polygon fill="none" stroke="black" points="1532.17,-573.49 1528.1,-579.44 1521.04,-577.97 1525.11,-572.02 1532.17,-573.49"/>
<text text-anchor="middle" x="1703.52" y="-526.2" font-family="Times New Roman,serif" font-size="14.00" fill="green">embedding_model</text>
</g>
<!-- ragpon.ml_models.large_language_model.AbstractLargeLanguageModel -->
<g id="node6" class="node">
<title>ragpon.ml_models.large_language_model.AbstractLargeLanguageModel</title>
<polygon fill="none" stroke="black" points="4842,-247 4842,-296 5024.5,-296 5024.5,-247 4842,-247"/>
<text text-anchor="start" x="4850" y="-278.7" font-family="Times New Roman,serif" font-size="14.00">AbstractLargeLanguageModel</text>
<polyline fill="none" stroke="black" points="4842,-271.5 5024.5,-271.5"/>
<polyline fill="none" stroke="black" points="4842,-271.5 5024.5,-271.5"/>
<text text-anchor="start" x="4874" y="-255.2" font-family="Times New Roman,serif" font-style="italic" font-size="14.00">generate</text>
<text text-anchor="start" x="4921.25" y="-255.2" font-family="Times New Roman,serif" font-size="14.00">(text: str): str</text>
</g>
<!-- ragpon.domain.metadata_generator.AbstractMetadataGenerator -->
<g id="node7" class="node">
<title>ragpon.domain.metadata_generator.AbstractMetadataGenerator</title>
<polygon fill="none" stroke="black" points="723.12,-1143 723.12,-1216.5 927.38,-1216.5 927.38,-1143 723.12,-1143"/>
<text text-anchor="start" x="749.88" y="-1199.2" font-family="Times New Roman,serif" font-size="14.00">AbstractMetadataGenerator</text>
<polyline fill="none" stroke="black" points="723.12,-1192 927.38,-1192"/>
<text text-anchor="start" x="731.12" y="-1174.7" font-family="Times New Roman,serif" font-size="14.00">metadata_class : Type[TMetadata]</text>
<polyline fill="none" stroke="black" points="723.12,-1167.5 927.38,-1167.5"/>
<text text-anchor="start" x="764.12" y="-1151.2" font-family="Times New Roman,serif" font-style="italic" font-size="14.00">generate</text>
<text text-anchor="start" x="811.38" y="-1151.2" font-family="Times New Roman,serif" font-size="14.00">(): TMetadata</text>
</g>
<!-- ragpon.ml_models.reranker.AbstractRelevanceEvaluator -->
<g id="node8" class="node">
<title>ragpon.ml_models.reranker.AbstractRelevanceEvaluator</title>
<polygon fill="none" stroke="black" points="3500.12,-1149.5 3500.12,-1210 3812.38,-1210 3812.38,-1149.5 3500.12,-1149.5"/>
<text text-anchor="start" x="3579" y="-1192.7" font-family="Times New Roman,serif" font-size="14.00">AbstractRelevanceEvaluator</text>
<polyline fill="none" stroke="black" points="3500.12,-1185.5 3812.38,-1185.5"/>
<polyline fill="none" stroke="black" points="3500.12,-1185.5 3812.38,-1185.5"/>
<text text-anchor="start" x="3508.12" y="-1169.2" font-family="Times New Roman,serif" font-style="italic" font-size="14.00">score_batch</text>
<text text-anchor="start" x="3574.12" y="-1169.2" font-family="Times New Roman,serif" font-size="14.00">(question: str, answers: list[str]): list[float]</text>
<text text-anchor="start" x="3508.12" y="-1155.2" font-family="Times New Roman,serif" font-style="italic" font-size="14.00">score_single</text>
<text text-anchor="start" x="3576.38" y="-1155.2" font-family="Times New Roman,serif" font-size="14.00">(question: str, answer: str): list[float]</text>
</g>
<!-- ragpon.ml_models.reranker.Reranker -->
<g id="node52" class="node">
<title>ragpon.ml_models.reranker.Reranker</title>
<polygon fill="none" stroke="black" points="3392.5,-1328.5 3392.5,-1402 3920,-1402 3920,-1328.5 3392.5,-1328.5"/>
<text text-anchor="start" x="3631.5" y="-1384.7" font-family="Times New Roman,serif" font-size="14.00">Reranker</text>
<polyline fill="none" stroke="black" points="3392.5,-1377.5 3920,-1377.5"/>
<text text-anchor="start" x="3601.88" y="-1360.2" font-family="Times New Roman,serif" font-size="14.00">relevance_evaluator</text>
<polyline fill="none" stroke="black" points="3392.5,-1353 3920,-1353"/>
<text text-anchor="start" x="3400.5" y="-1335.7" font-family="Times New Roman,serif" font-size="14.00">rerank(query: str, search_results: list[Document], search_result_text_key: str): list[Document]</text>
</g>
<!-- ragpon.ml_models.reranker.AbstractRelevanceEvaluator&#45;&gt;ragpon.ml_models.reranker.Reranker -->
<g id="edge52" class="edge">
<title>ragpon.ml_models.reranker.AbstractRelevanceEvaluator&#45;&gt;ragpon.ml_models.reranker.Reranker</title>
<path fill="none" stroke="black" d="M3656.25,-1210.23C3656.25,-1238.58 3656.25,-1281.96 3656.25,-1315.46"/>
<polygon fill="none" stroke="black" points="3656.25,-1315.32 3660.25,-1321.32 3656.25,-1327.32 3652.25,-1321.32 3656.25,-1315.32"/>
<text text-anchor="middle" x="3710.62" y="-1280.2" font-family="Times New Roman,serif" font-size="14.00" fill="green">relevance_evaluator</text>
</g>
<!-- ragpon.repository.abstract_repository.AbstractRepository -->
<g id="node9" class="node">
<title>ragpon.repository.abstract_repository.AbstractRepository</title>
<polygon fill="none" stroke="black" points="2137.25,-1101 2137.25,-1258.5 2669.25,-1258.5 2669.25,-1101 2137.25,-1101"/>
<text text-anchor="start" x="2350.75" y="-1241.2" font-family="Times New Roman,serif" font-size="14.00">AbstractRepository</text>
<polyline fill="none" stroke="black" points="2137.25,-1234 2669.25,-1234"/>
<text text-anchor="start" x="2309.12" y="-1216.7" font-family="Times New Roman,serif" font-size="14.00">metadata_class : Type[TMetadata]</text>
<text text-anchor="start" x="2309.12" y="-1200.2" font-family="Times New Roman,serif" font-size="14.00">result_class : Type[TResult]</text>
<polyline fill="none" stroke="black" points="2137.25,-1193 2669.25,-1193"/>
<text text-anchor="start" x="2145.25" y="-1176.7" font-family="Times New Roman,serif" font-style="italic" font-size="14.00">delete_by_ids</text>
<text text-anchor="start" x="2219.5" y="-1176.7" font-family="Times New Roman,serif" font-size="14.00">(ids: list[str]): None</text>
<text text-anchor="start" x="2145.25" y="-1162.7" font-family="Times New Roman,serif" font-style="italic" font-size="14.00">delete_by_metadata</text>
<text text-anchor="start" x="2254" y="-1162.7" font-family="Times New Roman,serif" font-size="14.00">(metadata: dict): None</text>
<text text-anchor="start" x="2145.25" y="-1148.7" font-family="Times New Roman,serif" font-style="italic" font-size="14.00">enhance</text>
<text text-anchor="start" x="2190.25" y="-1148.7" font-family="Times New Roman,serif" font-size="14.00">(docs: TResult | list[TResult], num_before: int, num_after: int): TResult | list[TResult]</text>
<text text-anchor="start" x="2145.25" y="-1134.7" font-family="Times New Roman,serif" font-style="italic" font-size="14.00">insert</text>
<text text-anchor="start" x="2176" y="-1134.7" font-family="Times New Roman,serif" font-size="14.00">(documents: list[str], metadatas: list[TMetadata]): None</text>
<text text-anchor="start" x="2145.25" y="-1120.7" font-family="Times New Roman,serif" font-style="italic" font-size="14.00">search</text>
<text text-anchor="start" x="2181.25" y="-1120.7" font-family="Times New Roman,serif" font-size="14.00">(query: str, top_k: int): list[TResult]</text>
<text text-anchor="start" x="2145.25" y="-1106.7" font-family="Times New Roman,serif" font-style="italic" font-size="14.00">upsert</text>
<text text-anchor="start" x="2179" y="-1106.7" font-family="Times New Roman,serif" font-size="14.00">(documents: list[str], metadatas: list[TMetadata]): None</text>
</g>
<!-- ragpon.repository.search_results_formatter.AbstractResultsFormatter -->
<g id="node10" class="node">
<title>ragpon.repository.search_results_formatter.AbstractResultsFormatter</title>
<polygon fill="none" stroke="black" points="1491.75,-850.25 1491.75,-923.75 1678.75,-923.75 1678.75,-850.25 1491.75,-850.25"/>
<text text-anchor="start" x="1515.5" y="-906.45" font-family="Times New Roman,serif" font-size="14.00">AbstractResultsFormatter</text>
<polyline fill="none" stroke="black" points="1491.75,-899.25 1678.75,-899.25"/>
<text text-anchor="start" x="1509.12" y="-881.95" font-family="Times New Roman,serif" font-size="14.00">result_class : Type[TResult]</text>
<polyline fill="none" stroke="black" points="1491.75,-874.75 1678.75,-874.75"/>
<text text-anchor="start" x="1499.75" y="-858.45" font-family="Times New Roman,serif" font-style="italic" font-size="14.00">format</text>
<text text-anchor="start" x="1535.75" y="-858.45" font-family="Times New Roman,serif" font-size="14.00">(results: T): list[TResult]</text>
</g>
<!-- ragpon.ml_models.embedding_model.AbstractSimilarityCalculator -->
<g id="node11" class="node">
<title>ragpon.ml_models.embedding_model.AbstractSimilarityCalculator</title>
<polygon fill="none" stroke="black" points="1205.25,-862.5 1205.25,-911.5 1473.25,-911.5 1473.25,-862.5 1205.25,-862.5"/>
<text text-anchor="start" x="1260.88" y="-894.2" font-family="Times New Roman,serif" font-size="14.00">AbstractSimilarityCalculator</text>
<polyline fill="none" stroke="black" points="1205.25,-887 1473.25,-887"/>
<polyline fill="none" stroke="black" points="1205.25,-887 1473.25,-887"/>
<text text-anchor="start" x="1213.25" y="-870.7" font-family="Times New Roman,serif" font-style="italic" font-size="14.00">calculate_similarity</text>
<text text-anchor="start" x="1321.25" y="-870.7" font-family="Times New Roman,serif" font-size="14.00">(text0: str, text1: str): float</text>
</g>
<!-- ragpon.tokenizer.AbstractTokenizer -->
<g id="node12" class="node">
<title>ragpon.tokenizer.AbstractTokenizer</title>
<polygon fill="none" stroke="black" points="2291.88,-429.25 2291.88,-478.25 2482.62,-478.25 2482.62,-429.25 2291.88,-429.25"/>
<text text-anchor="start" x="2337.38" y="-460.95" font-family="Times New Roman,serif" font-size="14.00">AbstractTokenizer</text>
<polyline fill="none" stroke="black" points="2291.88,-453.75 2482.62,-453.75"/>
<polyline fill="none" stroke="black" points="2291.88,-453.75 2482.62,-453.75"/>
<text text-anchor="start" x="2299.88" y="-437.45" font-family="Times New Roman,serif" font-style="italic" font-size="14.00">tokenize</text>
<text text-anchor="start" x="2344.12" y="-437.45" font-family="Times New Roman,serif" font-size="14.00">(document: str): list[str]</text>
</g>
<!-- ragpon.repository.bm25.bm25_calculators.BM25PlusCalculator -->
<g id="node13" class="node">
<title>ragpon.repository.bm25.bm25_calculators.BM25PlusCalculator</title>
<polygon fill="none" stroke="black" points="2143.12,-591 2143.12,-640 2389.38,-640 2389.38,-591 2143.12,-591"/>
<text text-anchor="start" x="2208.88" y="-622.7" font-family="Times New Roman,serif" font-size="14.00">BM25PlusCalculator</text>
<polyline fill="none" stroke="black" points="2143.12,-615.5 2389.38,-615.5"/>
<polyline fill="none" stroke="black" points="2143.12,-615.5 2389.38,-615.5"/>
<text text-anchor="start" x="2151.12" y="-598.2" font-family="Times New Roman,serif" font-size="14.00">search(query: str, top_k: int): list[TResult]</text>
</g>
<!-- ragpon.tokenizer.AbstractTokenizer&#45;&gt;ragpon.repository.bm25.bm25_calculators.BM25PlusCalculator -->
<g id="edge57" class="edge">
<title>ragpon.tokenizer.AbstractTokenizer&#45;&gt;ragpon.repository.bm25.bm25_calculators.BM25PlusCalculator</title>
<path fill="none" stroke="black" d="M2369.14,-478.67C2348.67,-505.68 2315.2,-549.87 2292.02,-580.47"/>
<polygon fill="none" stroke="black" points="2292.08,-580.4 2291.65,-587.6 2284.84,-589.96 2285.27,-582.76 2292.08,-580.4"/>
<text text-anchor="middle" x="2362.49" y="-526.2" font-family="Times New Roman,serif" font-size="14.00" fill="green">_tokenizer</text>
</g>
<!-- ragpon.repository.bm25.bm25_repository.BM25Repository -->
<g id="node14" class="node">
<title>ragpon.repository.bm25.bm25_repository.BM25Repository</title>
<polygon fill="none" stroke="black" points="2245.62,-821.25 2245.62,-952.75 2776.88,-952.75 2776.88,-821.25 2245.62,-821.25"/>
<text text-anchor="start" x="2464" y="-935.45" font-family="Times New Roman,serif" font-size="14.00">BM25Repository</text>
<polyline fill="none" stroke="black" points="2245.62,-928.25 2776.88,-928.25"/>
<polyline fill="none" stroke="black" points="2245.62,-928.25 2776.88,-928.25"/>
<text text-anchor="start" x="2253.62" y="-910.95" font-family="Times New Roman,serif" font-size="14.00">delete_by_ids(ids: list[str]): None</text>
<text text-anchor="start" x="2253.62" y="-894.45" font-family="Times New Roman,serif" font-size="14.00">delete_by_metadata(metadata: dict): None</text>
<text text-anchor="start" x="2253.62" y="-877.95" font-family="Times New Roman,serif" font-size="14.00">enhance(docs: TResult | list[TResult], num_before: int, num_after: int): TResult | list[TResult]</text>
<text text-anchor="start" x="2253.62" y="-861.45" font-family="Times New Roman,serif" font-size="14.00">insert(documents: list[str], metadatas: list[TMetadata]): None</text>
<text text-anchor="start" x="2253.62" y="-844.95" font-family="Times New Roman,serif" font-size="14.00">search(query: str, top_k: int): list[TResult]</text>
<text text-anchor="start" x="2253.62" y="-828.45" font-family="Times New Roman,serif" font-size="14.00">upsert(documents: list[str], metadatas: list[TMetadata]): None</text>
</g>
<!-- ragpon.tokenizer.AbstractTokenizer&#45;&gt;ragpon.repository.bm25.bm25_repository.BM25Repository -->
<g id="edge58" class="edge">
<title>ragpon.tokenizer.AbstractTokenizer&#45;&gt;ragpon.repository.bm25.bm25_repository.BM25Repository</title>
<path fill="none" stroke="black" d="M2392.15,-478.57C2400.63,-518.96 2419.07,-603.35 2439.25,-673.5 2452.28,-718.79 2469.07,-768.73 2483.16,-808.82"/>
<polygon fill="none" stroke="black" points="2483.14,-808.76 2488.91,-813.08 2487.14,-820.07 2481.37,-815.75 2483.14,-808.76"/>
<text text-anchor="middle" x="2467.75" y="-610.45" font-family="Times New Roman,serif" font-size="14.00" fill="green">_tokenizer</text>
</g>
<!-- ragpon.repository.bm25.managers.DocumentManager -->
<g id="node30" class="node">
<title>ragpon.repository.bm25.managers.DocumentManager</title>
<polygon fill="none" stroke="black" points="2538,-558 2538,-673 2870.5,-673 2870.5,-558 2538,-558"/>
<text text-anchor="start" x="2651.38" y="-655.7" font-family="Times New Roman,serif" font-size="14.00">DocumentManager</text>
<polyline fill="none" stroke="black" points="2538,-648.5 2870.5,-648.5"/>
<polyline fill="none" stroke="black" points="2538,-648.5 2870.5,-648.5"/>
<text text-anchor="start" x="2546" y="-631.2" font-family="Times New Roman,serif" font-size="14.00">add_document(text: str, metadata: BaseDocument): None</text>
<text text-anchor="start" x="2546" y="-614.7" font-family="Times New Roman,serif" font-size="14.00">remove_document(doc_id: str)</text>
<text text-anchor="start" x="2546" y="-598.2" font-family="Times New Roman,serif" font-size="14.00">remove_document_by_metadata(metadata: dict[str, Any])</text>
<text text-anchor="start" x="2546" y="-581.7" font-family="Times New Roman,serif" font-size="14.00">update_document(text: str, metadata: BaseDocument)</text>
<text text-anchor="start" x="2546" y="-565.2" font-family="Times New Roman,serif" font-size="14.00">upsert_document(text: str, metadata: BaseDocument)</text>
</g>
<!-- ragpon.tokenizer.AbstractTokenizer&#45;&gt;ragpon.repository.bm25.managers.DocumentManager -->
<g id="edge59" class="edge">
<title>ragpon.tokenizer.AbstractTokenizer&#45;&gt;ragpon.repository.bm25.managers.DocumentManager</title>
<path fill="none" stroke="black" d="M2458.05,-478.61C2489.54,-490.32 2526.57,-505.65 2558.25,-523 2569.28,-529.04 2570.76,-532.55 2581.25,-539.5 2586.92,-543.25 2592.77,-547.06 2598.7,-550.86"/>
<polygon fill="none" stroke="black" points="2598.56,-550.76 2605.77,-550.6 2608.69,-557.19 2601.48,-557.36 2598.56,-550.76"/>
<text text-anchor="middle" x="2609.75" y="-526.2" font-family="Times New Roman,serif" font-size="14.00" fill="green">_tokenizer</text>
</g>
<!-- ragpon.repository.bm25.bm25_calculators.BM25PlusCalculator&#45;&gt;ragpon.repository.bm25.bm25_repository.BM25Repository -->
<g id="edge35" class="edge">
<title>ragpon.repository.bm25.bm25_calculators.BM25PlusCalculator&#45;&gt;ragpon.repository.bm25.bm25_repository.BM25Repository</title>
<path fill="none" stroke="black" d="M2280,-640.44C2291.42,-659.52 2308.63,-686.49 2326.5,-708 2356.94,-744.64 2394.18,-781.73 2427.24,-812.5"/>
<polygon fill="black" stroke="black" points="2426.97,-812.25 2434.09,-813.39 2435.78,-820.4 2428.66,-819.26 2426.97,-812.25"/>
<text text-anchor="middle" x="2368.88" y="-694.7" font-family="Times New Roman,serif" font-size="14.00" fill="green">_bm_calculator</text>
</g>
<!-- ragpon.repository.bm25.bm25_repository.BM25Repository&#45;&gt;ragpon.repository.abstract_repository.AbstractRepository -->
<g id="edge24" class="edge">
<title>ragpon.repository.bm25.bm25_repository.BM25Repository&#45;&gt;ragpon.repository.abstract_repository.AbstractRepository</title>
<path fill="none" stroke="black" d="M2498.44,-952.92C2489.73,-991.42 2476.63,-1040.71 2459.25,-1082.5 2458.16,-1085.12 2457.02,-1087.75 2455.82,-1090.39"/>
<polygon fill="none" stroke="black" points="2452.76,-1088.66 2451.64,-1099.2 2459.09,-1091.66 2452.76,-1088.66"/>
</g>
<!-- ragpon.service.document_processing_service.DocumentProcessingService -->
<g id="node32" class="node">
<title>ragpon.service.document_processing_service.DocumentProcessingService</title>
<polygon fill="none" stroke="black" points="1153.88,-1105.75 1153.88,-1253.75 1842.62,-1253.75 1842.62,-1105.75 1153.88,-1105.75"/>
<text text-anchor="start" x="1420.25" y="-1236.45" font-family="Times New Roman,serif" font-size="14.00">DocumentProcessingService</text>
<polyline fill="none" stroke="black" points="1153.88,-1229.25 1842.62,-1229.25"/>
<polyline fill="none" stroke="black" points="1153.88,-1229.25 1842.62,-1229.25"/>
<text text-anchor="start" x="1161.88" y="-1211.95" font-family="Times New Roman,serif" font-size="14.00">delete_by_ids(ids: list[str]): None</text>
<text text-anchor="start" x="1161.88" y="-1195.45" font-family="Times New Roman,serif" font-size="14.00">delete_by_metadata(metadata: dict[str, Any]): None</text>
<text text-anchor="start" x="1161.88" y="-1178.95" font-family="Times New Roman,serif" font-size="14.00">enhance_search_results(search_results: dict[str, list[Document]], num_before: int, num_after: int): dict[str, list[Document]]</text>
<text text-anchor="start" x="1161.88" y="-1162.45" font-family="Times New Roman,serif" font-size="14.00">process_dataframe(df: pd.DataFrame, chunk_col_name: str, id_col_name: str): None</text>
<text text-anchor="start" x="1161.88" y="-1145.95" font-family="Times New Roman,serif" font-size="14.00">process_file(file_path: str): None</text>
<text text-anchor="start" x="1161.88" y="-1129.45" font-family="Times New Roman,serif" font-size="14.00">rerank_results(query: str, search_results: dict[str, list[Document]], search_result_text_key: str): dict[str, list[Document]]</text>
<text text-anchor="start" x="1161.88" y="-1112.95" font-family="Times New Roman,serif" font-size="14.00">search(query: str, top_k: int): dict[str, list[Document]]</text>
</g>
<!-- ragpon.repository.bm25.bm25_repository.BM25Repository&#45;&gt;ragpon.service.document_processing_service.DocumentProcessingService -->
<g id="edge36" class="edge">
<title>ragpon.repository.bm25.bm25_repository.BM25Repository&#45;&gt;ragpon.service.document_processing_service.DocumentProcessingService</title>
<path fill="none" stroke="black" d="M2420.92,-953.1C2369.52,-986.89 2302.53,-1025.67 2237.25,-1048 2179.14,-1067.88 2160.9,-1056.34 2100.25,-1066 2020.84,-1078.64 1935.82,-1093.65 1855.43,-1108.53"/>
<polygon fill="black" stroke="black" points="1855.78,-1108.47 1850.61,-1113.5 1843.98,-1110.66 1849.15,-1105.63 1855.78,-1108.47"/>
<text text-anchor="middle" x="2134.75" y="-1069.2" font-family="Times New Roman,serif" font-size="14.00" fill="green">_bm25_repo</text>
</g>
<!-- ragpon.domain.domain.BaseDocument -->
<g id="node15" class="node">
<title>ragpon.domain.domain.BaseDocument</title>
<polygon fill="none" stroke="black" points="5075.88,-0.5 5075.88,-140 5224.62,-140 5224.62,-0.5 5075.88,-0.5"/>
<text text-anchor="start" x="5108.62" y="-122.7" font-family="Times New Roman,serif" font-size="14.00">BaseDocument</text>
<polyline fill="none" stroke="black" points="5075.88,-115.5 5224.62,-115.5"/>
<text text-anchor="start" x="5083.88" y="-98.2" font-family="Times New Roman,serif" font-size="14.00">db_name : str</text>
<text text-anchor="start" x="5083.88" y="-81.7" font-family="Times New Roman,serif" font-size="14.00">distance : float</text>
<text text-anchor="start" x="5083.88" y="-65.2" font-family="Times New Roman,serif" font-size="14.00">doc_id : str</text>
<text text-anchor="start" x="5083.88" y="-48.7" font-family="Times New Roman,serif" font-size="14.00">metadata : dict[str, Any]</text>
<text text-anchor="start" x="5083.88" y="-32.2" font-family="Times New Roman,serif" font-size="14.00">text : str</text>
<polyline fill="none" stroke="black" points="5075.88,-25 5224.62,-25"/>
<text text-anchor="start" x="5148.38" y="-7.7" font-family="Times New Roman,serif" font-size="14.00"> </text>
</g>
<!-- ragpon.domain.domain.Document -->
<g id="node29" class="node">
<title>ragpon.domain.domain.Document</title>
<polygon fill="none" stroke="black" points="5071,-218.25 5071,-324.75 5229.5,-324.75 5229.5,-218.25 5071,-218.25"/>
<text text-anchor="start" x="5121.75" y="-307.45" font-family="Times New Roman,serif" font-size="14.00">Document</text>
<polyline fill="none" stroke="black" points="5071,-300.25 5229.5,-300.25"/>
<text text-anchor="start" x="5079" y="-282.95" font-family="Times New Roman,serif" font-size="14.00">base_document</text>
<text text-anchor="start" x="5079" y="-266.45" font-family="Times New Roman,serif" font-size="14.00">enhanced_text : str | None</text>
<text text-anchor="start" x="5079" y="-249.95" font-family="Times New Roman,serif" font-size="14.00">rerank : float | None</text>
<polyline fill="none" stroke="black" points="5071,-242.75 5229.5,-242.75"/>
<text text-anchor="start" x="5148.38" y="-225.45" font-family="Times New Roman,serif" font-size="14.00"> </text>
</g>
<!-- ragpon.domain.domain.BaseDocument&#45;&gt;ragpon.domain.domain.Document -->
<g id="edge31" class="edge">
<title>ragpon.domain.domain.BaseDocument&#45;&gt;ragpon.domain.domain.Document</title>
<path fill="none" stroke="black" d="M5150.25,-140.38C5150.25,-161.32 5150.25,-184.24 5150.25,-204.94"/>
<polygon fill="black" stroke="black" points="5150.25,-204.93 5154.25,-210.93 5150.25,-216.93 5146.25,-210.93 5150.25,-204.93"/>
<text text-anchor="middle" x="5192.62" y="-161.7" font-family="Times New Roman,serif" font-size="14.00" fill="green">base_document</text>
</g>
<!-- ragpon.repository.bm25.models.BaseDocumentModel -->
<g id="node16" class="node">
<title>ragpon.repository.bm25.models.BaseDocumentModel</title>
<polygon fill="none" stroke="black" points="5242.62,-17 5242.62,-123.5 5377.88,-123.5 5377.88,-17 5242.62,-17"/>
<text text-anchor="start" x="5250.62" y="-106.2" font-family="Times New Roman,serif" font-size="14.00">BaseDocumentModel</text>
<polyline fill="none" stroke="black" points="5242.62,-99 5377.88,-99"/>
<text text-anchor="start" x="5254.75" y="-81.7" font-family="Times New Roman,serif" font-size="14.00">id : CharField</text>
<text text-anchor="start" x="5254.75" y="-65.2" font-family="Times New Roman,serif" font-size="14.00">length : IntegerField</text>
<text text-anchor="start" x="5254.75" y="-48.7" font-family="Times New Roman,serif" font-size="14.00">text : TextField</text>
<polyline fill="none" stroke="black" points="5242.62,-41.5 5377.88,-41.5"/>
<text text-anchor="start" x="5308.38" y="-24.2" font-family="Times New Roman,serif" font-size="14.00"> </text>
</g>
<!-- ragpon.repository.chromaDB_repository.ChromaDBRepository -->
<g id="node18" class="node">
<title>ragpon.repository.chromaDB_repository.ChromaDBRepository</title>
<polygon fill="none" stroke="black" points="1696.62,-726.5 1696.62,-1047.5 2227.88,-1047.5 2227.88,-726.5 1696.62,-726.5"/>
<text text-anchor="start" x="1901.12" y="-1030.2" font-family="Times New Roman,serif" font-size="14.00">ChromaDBRepository</text>
<polyline fill="none" stroke="black" points="1696.62,-1023 2227.88,-1023"/>
<text text-anchor="start" x="1868.12" y="-1005.7" font-family="Times New Roman,serif" font-size="14.00">batch_size : int</text>
<text text-anchor="start" x="1868.12" y="-989.2" font-family="Times New Roman,serif" font-size="14.00">client : Client</text>
<text text-anchor="start" x="1868.12" y="-972.7" font-family="Times New Roman,serif" font-size="14.00">collection</text>
<text text-anchor="start" x="1868.12" y="-956.2" font-family="Times New Roman,serif" font-size="14.00">collection_name : str</text>
<text text-anchor="start" x="1868.12" y="-939.7" font-family="Times New Roman,serif" font-size="14.00">embed_func</text>
<text text-anchor="start" x="1868.12" y="-923.2" font-family="Times New Roman,serif" font-size="14.00">formatter</text>
<text text-anchor="start" x="1868.12" y="-906.7" font-family="Times New Roman,serif" font-size="14.00">metadata_class : Type[TMetadata]</text>
<text text-anchor="start" x="1868.12" y="-890.2" font-family="Times New Roman,serif" font-size="14.00">passage_prefix</text>
<text text-anchor="start" x="1868.12" y="-873.7" font-family="Times New Roman,serif" font-size="14.00">query_prefix</text>
<text text-anchor="start" x="1868.12" y="-857.2" font-family="Times New Roman,serif" font-size="14.00">result_class : Type[TResult]</text>
<text text-anchor="start" x="1868.12" y="-840.7" font-family="Times New Roman,serif" font-size="14.00">similarity : str</text>
<polyline fill="none" stroke="black" points="1696.62,-833.5 2227.88,-833.5"/>
<text text-anchor="start" x="1704.62" y="-816.2" font-family="Times New Roman,serif" font-size="14.00">delete_by_ids(ids: list[str]): None</text>
<text text-anchor="start" x="1704.62" y="-799.7" font-family="Times New Roman,serif" font-size="14.00">delete_by_metadata(metadata: dict): None</text>
<text text-anchor="start" x="1704.62" y="-783.2" font-family="Times New Roman,serif" font-size="14.00">enhance(docs: TResult | list[TResult], num_before: int, num_after: int): TResult | list[TResult]</text>
<text text-anchor="start" x="1704.62" y="-766.7" font-family="Times New Roman,serif" font-size="14.00">insert(documents: list[str], metadatas: list[TMetadata]): None</text>
<text text-anchor="start" x="1704.62" y="-750.2" font-family="Times New Roman,serif" font-size="14.00">search(query: str, top_k: int, where: Optional[dict]): list[TResult]</text>
<text text-anchor="start" x="1704.62" y="-733.7" font-family="Times New Roman,serif" font-size="14.00">upsert(documents: list[str], metadatas: list[TMetadata]): None</text>
</g>
<!-- ragpon.ml_models.embedding_model.ChromaDBEmbeddingAdapter&#45;&gt;ragpon.repository.chromaDB_repository.ChromaDBRepository -->
<g id="edge51" class="edge">
<title>ragpon.ml_models.embedding_model.ChromaDBEmbeddingAdapter&#45;&gt;ragpon.repository.chromaDB_repository.ChromaDBRepository</title>
<path fill="none" stroke="black" d="M2018.59,-669.1C2015.08,-682.59 2011.12,-697.85 2006.96,-713.89"/>
<polygon fill="none" stroke="black" points="2006.98,-713.79 2009.34,-720.6 2003.96,-725.4 2001.6,-718.59 2006.98,-713.79"/>
<text text-anchor="middle" x="2045.32" y="-694.7" font-family="Times New Roman,serif" font-size="14.00" fill="green">embed_func</text>
</g>
<!-- ragpon.repository.chromaDB_repository.ChromaDBRepository&#45;&gt;ragpon.repository.abstract_repository.AbstractRepository -->
<g id="edge25" class="edge">
<title>ragpon.repository.chromaDB_repository.ChromaDBRepository&#45;&gt;ragpon.repository.abstract_repository.AbstractRepository</title>
<path fill="none" stroke="black" d="M2228.19,-1044.69C2230.88,-1045.81 2233.57,-1046.92 2236.25,-1048 2267.64,-1060.67 2281.57,-1048.02 2310.25,-1066 2321.87,-1073.28 2332.73,-1082.52 2342.63,-1092.55"/>
<polygon fill="none" stroke="black" points="2339.92,-1094.78 2349.33,-1099.65 2345.01,-1089.98 2339.92,-1094.78"/>
</g>
<!-- ragpon.repository.chromaDB_repository.ChromaDBRepository&#45;&gt;ragpon.service.document_processing_service.DocumentProcessingService -->
<g id="edge43" class="edge">
<title>ragpon.repository.chromaDB_repository.ChromaDBRepository&#45;&gt;ragpon.service.document_processing_service.DocumentProcessingService</title>
<path fill="none" stroke="black" d="M1707.17,-1047.83C1679.17,-1065.38 1651.61,-1082.65 1626.17,-1098.6"/>
<polygon fill="black" stroke="black" points="1626.33,-1098.5 1623.37,-1105.07 1616.16,-1104.87 1619.12,-1098.29 1626.33,-1098.5"/>
<text text-anchor="middle" x="1721.17" y="-1069.2" font-family="Times New Roman,serif" font-size="14.00" fill="green">_chromadb_repo</text>
</g>
<!-- ragpon.repository.search_results_formatter.ChromaDBResultsFormatter -->
<g id="node19" class="node">
<title>ragpon.repository.search_results_formatter.ChromaDBResultsFormatter</title>
<polygon fill="none" stroke="black" points="1673,-591 1673,-640 1921.5,-640 1921.5,-591 1673,-591"/>
<text text-anchor="start" x="1718.88" y="-622.7" font-family="Times New Roman,serif" font-size="14.00">ChromaDBResultsFormatter</text>
<polyline fill="none" stroke="black" points="1673,-615.5 1921.5,-615.5"/>
<polyline fill="none" stroke="black" points="1673,-615.5 1921.5,-615.5"/>
<text text-anchor="start" x="1681" y="-598.2" font-family="Times New Roman,serif" font-size="14.00">format(results: QueryResult): list[TResult]</text>
</g>
<!-- ragpon.repository.search_results_formatter.ChromaDBResultsFormatter&#45;&gt;ragpon.repository.search_results_formatter.AbstractResultsFormatter -->
<g id="edge26" class="edge">
<title>ragpon.repository.search_results_formatter.ChromaDBResultsFormatter&#45;&gt;ragpon.repository.search_results_formatter.AbstractResultsFormatter</title>
<path fill="none" stroke="black" d="M1770.25,-640.23C1746.89,-661.47 1712.93,-694.09 1687.25,-726 1658.15,-762.17 1630.18,-807 1610.91,-840"/>
<polygon fill="none" stroke="black" points="1607.95,-838.12 1605.98,-848.53 1614.01,-841.62 1607.95,-838.12"/>
</g>
<!-- ragpon.repository.search_results_formatter.ChromaDBResultsFormatter&#45;&gt;ragpon.repository.chromaDB_repository.ChromaDBRepository -->
<g id="edge44" class="edge">
<title>ragpon.repository.search_results_formatter.ChromaDBResultsFormatter&#45;&gt;ragpon.repository.chromaDB_repository.ChromaDBRepository</title>
<path fill="none" stroke="black" d="M1811.89,-640.42C1823.1,-658.72 1839.66,-685.77 1857.74,-715.3"/>
<polygon fill="black" stroke="black" points="1857.73,-715.28 1864.27,-718.31 1863.99,-725.52 1857.45,-722.49 1857.73,-715.28"/>
<text text-anchor="middle" x="1876.12" y="-694.7" font-family="Times New Roman,serif" font-size="14.00" fill="green">formatter</text>
</g>
<!-- ragpon.chunk_processor.ChunkProcessingError -->
<g id="node20" class="node">
<title>ragpon.chunk_processor.ChunkProcessingError</title>
<polygon fill="none" stroke="black" points="5395.75,-45.75 5395.75,-94.75 5534.75,-94.75 5534.75,-45.75 5395.75,-45.75"/>
<text text-anchor="start" x="5403.75" y="-77.45" font-family="Times New Roman,serif" font-size="14.00" fill="red">ChunkProcessingError</text>
<polyline fill="none" stroke="black" points="5395.75,-70.25 5534.75,-70.25"/>
<polyline fill="none" stroke="black" points="5395.75,-70.25 5534.75,-70.25"/>
<text text-anchor="start" x="5463.38" y="-52.95" font-family="Times New Roman,serif" font-size="14.00" fill="red"> </text>
</g>
<!-- ragpon.domain.domain.ChunkSourceInfo -->
<g id="node21" class="node">
<title>ragpon.domain.domain.ChunkSourceInfo</title>
<polygon fill="none" stroke="black" points="5552.88,-17 5552.88,-123.5 5701.62,-123.5 5701.62,-17 5552.88,-17"/>
<text text-anchor="start" x="5579.25" y="-106.2" font-family="Times New Roman,serif" font-size="14.00">ChunkSourceInfo</text>
<polyline fill="none" stroke="black" points="5552.88,-99 5701.62,-99"/>
<text text-anchor="start" x="5560.88" y="-81.7" font-family="Times New Roman,serif" font-size="14.00">metadata : dict[str, Any]</text>
<text text-anchor="start" x="5560.88" y="-65.2" font-family="Times New Roman,serif" font-size="14.00">text : str</text>
<text text-anchor="start" x="5560.88" y="-48.7" font-family="Times New Roman,serif" font-size="14.00">unit_index : int</text>
<polyline fill="none" stroke="black" points="5552.88,-41.5 5701.62,-41.5"/>
<text text-anchor="start" x="5625.38" y="-24.2" font-family="Times New Roman,serif" font-size="14.00"> </text>
</g>
<!-- ragpon.config.config.Config -->
<g id="node22" class="node">
<title>ragpon.config.config.Config</title>
<polygon fill="none" stroke="black" points="984.38,-193.5 984.38,-349.5 1232.12,-349.5 1232.12,-193.5 984.38,-193.5"/>
<text text-anchor="start" x="1089.5" y="-332.2" font-family="Times New Roman,serif" font-size="14.00">Config</text>
<polyline fill="none" stroke="black" points="984.38,-325 1232.12,-325"/>
<text text-anchor="start" x="1058.75" y="-307.7" font-family="Times New Roman,serif" font-size="14.00">DEFAULTS : dict</text>
<text text-anchor="start" x="1058.75" y="-291.2" font-family="Times New Roman,serif" font-size="14.00">config</text>
<text text-anchor="start" x="1058.75" y="-274.7" font-family="Times New Roman,serif" font-size="14.00">config_file</text>
<text text-anchor="start" x="1058.75" y="-258.2" font-family="Times New Roman,serif" font-size="14.00">encoding : str</text>
<polyline fill="none" stroke="black" points="984.38,-251 1232.12,-251"/>
<text text-anchor="start" x="992.38" y="-233.7" font-family="Times New Roman,serif" font-size="14.00">get(key: str, default: str | None): str | None</text>
<text text-anchor="start" x="992.38" y="-217.2" font-family="Times New Roman,serif" font-size="14.00">save(): None</text>
<text text-anchor="start" x="992.38" y="-200.7" font-family="Times New Roman,serif" font-size="14.00">set(key: str, value: str): None</text>
</g>
<!-- ragpon.service.document_processing_service.DatabaseFactory -->
<g id="node28" class="node">
<title>ragpon.service.document_processing_service.DatabaseFactory</title>
<polygon fill="none" stroke="black" points="1177.75,-412.75 1177.75,-494.75 1472.75,-494.75 1472.75,-412.75 1177.75,-412.75"/>
<text text-anchor="start" x="1279.88" y="-477.45" font-family="Times New Roman,serif" font-size="14.00">DatabaseFactory</text>
<polyline fill="none" stroke="black" points="1177.75,-470.25 1472.75,-470.25"/>
<polyline fill="none" stroke="black" points="1177.75,-470.25 1472.75,-470.25"/>
<text text-anchor="start" x="1185.75" y="-452.95" font-family="Times New Roman,serif" font-size="14.00">create_bm25(): BM25Repository | None</text>
<text text-anchor="start" x="1185.75" y="-436.45" font-family="Times New Roman,serif" font-size="14.00">create_chroma_db(): ChromaDBRepository | None</text>
<text text-anchor="start" x="1185.75" y="-419.95" font-family="Times New Roman,serif" font-size="14.00">validate_configuration(): None</text>
</g>
<!-- ragpon.config.config.Config&#45;&gt;ragpon.service.document_processing_service.DatabaseFactory -->
<g id="edge48" class="edge">
<title>ragpon.config.config.Config&#45;&gt;ragpon.service.document_processing_service.DatabaseFactory</title>
<path fill="none" stroke="black" d="M1201.54,-349.99C1223.65,-368.35 1246.62,-387.43 1266.68,-404.1"/>
<polygon fill="none" stroke="black" points="1266.65,-404.08 1273.82,-404.83 1275.88,-411.74 1268.71,-410.99 1266.65,-404.08"/>
<text text-anchor="middle" x="1263.19" y="-371.2" font-family="Times New Roman,serif" font-size="14.00" fill="green">_config</text>
</g>
<!-- ragpon.config.config.Config&#45;&gt;ragpon.service.document_processing_service.DocumentProcessingService -->
<g id="edge29" class="edge">
<title>ragpon.config.config.Config&#45;&gt;ragpon.service.document_processing_service.DocumentProcessingService</title>
<path fill="none" stroke="black" d="M1108.25,-349.69C1108.25,-381.59 1108.25,-418.95 1108.25,-452.75 1108.25,-452.75 1108.25,-452.75 1108.25,-888 1108.25,-961.75 1108.48,-988.64 1152.25,-1048 1166.54,-1067.39 1184.08,-1083.9 1203.59,-1097.96"/>
<polygon fill="black" stroke="black" points="1203.66,-1098.01 1210.87,-1098.11 1213.56,-1104.8 1206.35,-1104.71 1203.66,-1098.01"/>
<text text-anchor="middle" x="1128.88" y="-610.45" font-family="Times New Roman,serif" font-size="14.00" fill="green">_config</text>
</g>
<!-- ragpon.ml_models.embedding_model.CosineSimilarityCalculator&#45;&gt;ragpon.ml_models.embedding_model.AbstractSimilarityCalculator -->
<g id="edge18" class="edge">
<title>ragpon.ml_models.embedding_model.CosineSimilarityCalculator&#45;&gt;ragpon.ml_models.embedding_model.AbstractSimilarityCalculator</title>
<path fill="none" stroke="black" d="M1418.07,-652.57C1400.51,-704.57 1368.29,-799.99 1350.98,-851.25"/>
<polygon fill="none" stroke="black" points="1347.69,-850.05 1347.81,-860.65 1354.33,-852.29 1347.69,-850.05"/>
</g>
<!-- ragpon.domain.metadata_generator.CustomMetadataGenerator -->
<g id="node24" class="node">
<title>ragpon.domain.metadata_generator.CustomMetadataGenerator</title>
<polygon fill="none" stroke="black" points="897.38,-862.5 897.38,-911.5 1061.12,-911.5 1061.12,-862.5 897.38,-862.5"/>
<text text-anchor="start" x="905.38" y="-894.2" font-family="Times New Roman,serif" font-size="14.00">CustomMetadataGenerator</text>
<polyline fill="none" stroke="black" points="897.38,-887 1061.12,-887"/>
<polyline fill="none" stroke="black" points="897.38,-887 1061.12,-887"/>
<text text-anchor="start" x="918.88" y="-869.7" font-family="Times New Roman,serif" font-size="14.00">generate(): TMetadata</text>
</g>
<!-- ragpon.domain.metadata_generator.CustomMetadataGenerator&#45;&gt;ragpon.domain.metadata_generator.AbstractMetadataGenerator -->
<g id="edge17" class="edge">
<title>ragpon.domain.metadata_generator.CustomMetadataGenerator&#45;&gt;ragpon.domain.metadata_generator.AbstractMetadataGenerator</title>
<path fill="none" stroke="black" d="M971.66,-911.81C959.45,-946.47 932.26,-1010.71 888.25,-1048 870.55,-1063 853.68,-1047.83 839.25,-1066 824.9,-1084.07 820.74,-1109.17 820.46,-1131.1"/>
<polygon fill="none" stroke="black" points="816.96,-1131.1 820.62,-1141.04 823.96,-1130.99 816.96,-1131.1"/>
</g>
<!-- ragpon.domain.metadata_generator.CustomMetadataGenerator&#45;&gt;ragpon.service.document_processing_service.DocumentProcessingService -->
<g id="edge32" class="edge">
<title>ragpon.domain.metadata_generator.CustomMetadataGenerator&#45;&gt;ragpon.service.document_processing_service.DocumentProcessingService</title>
<path fill="none" stroke="black" d="M970.71,-911.89C957.99,-952.16 939.65,-1033.92 980.25,-1082.5 1004.52,-1111.55 1067.25,-1131.87 1141.02,-1146.08"/>
<polygon fill="black" stroke="black" points="1140.76,-1146.03 1147.39,-1143.2 1152.55,-1148.23 1145.92,-1151.06 1140.76,-1146.03"/>
<text text-anchor="middle" x="1037.25" y="-1069.2" font-family="Times New Roman,serif" font-size="14.00" fill="green">_metadata_generator</text>
</g>
<!-- ragpon.domain.document_processing_pipeline.DataFrameDocumentProcessingPipeline -->
<g id="node25" class="node">
<title>ragpon.domain.document_processing_pipeline.DataFrameDocumentProcessingPipeline</title>
<polygon fill="none" stroke="black" points="0,-1312 0,-1418.5 350.5,-1418.5 350.5,-1312 0,-1312"/>
<text text-anchor="start" x="65" y="-1401.2" font-family="Times New Roman,serif" font-size="14.00">DataFrameDocumentProcessingPipeline</text>
<polyline fill="none" stroke="black" points="0,-1394 350.5,-1394"/>
<text text-anchor="start" x="8" y="-1376.7" font-family="Times New Roman,serif" font-size="14.00">chunk_col_name : str</text>
<text text-anchor="start" x="8" y="-1360.2" font-family="Times New Roman,serif" font-size="14.00">id_col_name : str</text>
<text text-anchor="start" x="8" y="-1343.7" font-family="Times New Roman,serif" font-size="14.00">metadata_generator : CustomMetadataGenerator[TMetadata]</text>
<polyline fill="none" stroke="black" points="0,-1336.5 350.5,-1336.5"/>
<text text-anchor="start" x="32.75" y="-1319.2" font-family="Times New Roman,serif" font-size="14.00">process_document(): tuple[list[str], list[TMetadata]]</text>
</g>
<!-- ragpon.domain.document_processing_pipeline.DataFrameDocumentProcessingPipeline&#45;&gt;ragpon.domain.document_processing_pipeline.AbstractDocumentProcessingPipeline -->
<g id="edge5" class="edge">
<title>ragpon.domain.document_processing_pipeline.DataFrameDocumentProcessingPipeline&#45;&gt;ragpon.domain.document_processing_pipeline.AbstractDocumentProcessingPipeline</title>
<path fill="none" stroke="black" d="M180.79,-1418.8C181.72,-1427.56 182.66,-1436.46 183.52,-1444.65"/>
<polygon fill="none" stroke="black" points="180.04,-1444.98 184.57,-1454.56 187,-1444.25 180.04,-1444.98"/>
</g>
<!-- ragpon.domain.document_processing_pipeline.DataFrameProcessingError -->
<g id="node26" class="node">
<title>ragpon.domain.document_processing_pipeline.DataFrameProcessingError</title>
<polygon fill="none" stroke="black" points="5702.38,-247 5702.38,-296 5866.12,-296 5866.12,-247 5702.38,-247"/>
<text text-anchor="start" x="5710.38" y="-278.7" font-family="Times New Roman,serif" font-size="14.00" fill="red">DataFrameProcessingError</text>
<polyline fill="none" stroke="black" points="5702.38,-271.5 5866.12,-271.5"/>
<polyline fill="none" stroke="black" points="5702.38,-271.5 5866.12,-271.5"/>
<text text-anchor="start" x="5782.38" y="-254.2" font-family="Times New Roman,serif" font-size="14.00" fill="red"> </text>
</g>
<!-- ragpon.domain.document_processing_pipeline.DocumentProcessingError -->
<g id="node31" class="node">
<title>ragpon.domain.document_processing_pipeline.DocumentProcessingError</title>
<polygon fill="none" stroke="black" points="5526.25,-429.25 5526.25,-478.25 5686.25,-478.25 5686.25,-429.25 5526.25,-429.25"/>
<text text-anchor="start" x="5534.25" y="-460.95" font-family="Times New Roman,serif" font-size="14.00" fill="red">DocumentProcessingError</text>
<polyline fill="none" stroke="black" points="5526.25,-453.75 5686.25,-453.75"/>
<polyline fill="none" stroke="black" points="5526.25,-453.75 5686.25,-453.75"/>
<text text-anchor="start" x="5604.38" y="-436.45" font-family="Times New Roman,serif" font-size="14.00" fill="red"> </text>
</g>
<!-- ragpon.domain.document_processing_pipeline.DataFrameProcessingError&#45;&gt;ragpon.domain.document_processing_pipeline.DocumentProcessingError -->
<g id="edge6" class="edge">
<title>ragpon.domain.document_processing_pipeline.DataFrameProcessingError&#45;&gt;ragpon.domain.document_processing_pipeline.DocumentProcessingError</title>
<path fill="none" stroke="black" d="M5760.61,-296.44C5729.01,-328.44 5672.89,-385.27 5637.73,-420.87"/>
<polygon fill="none" stroke="black" points="5635.3,-418.35 5630.76,-427.93 5640.28,-423.27 5635.3,-418.35"/>
</g>
<!-- ragpon.repository.bm25.models.DataModels -->
<g id="node27" class="node">
<title>ragpon.repository.bm25.models.DataModels</title>
<polygon fill="none" stroke="black" points="2498.62,-210 2498.62,-333 2639.88,-333 2639.88,-210 2498.62,-210"/>
<text text-anchor="start" x="2535.88" y="-315.7" font-family="Times New Roman,serif" font-size="14.00">DataModels</text>
<polyline fill="none" stroke="black" points="2498.62,-308.5 2639.88,-308.5"/>
<text text-anchor="start" x="2506.62" y="-291.2" font-family="Times New Roman,serif" font-size="14.00">Document : Document</text>
<text text-anchor="start" x="2506.62" y="-274.7" font-family="Times New Roman,serif" font-size="14.00">Statistics</text>
<text text-anchor="start" x="2506.62" y="-258.2" font-family="Times New Roman,serif" font-size="14.00">Term</text>
<text text-anchor="start" x="2506.62" y="-241.7" font-family="Times New Roman,serif" font-size="14.00">TermFrequency</text>
<polyline fill="none" stroke="black" points="2498.62,-234.5 2639.88,-234.5"/>
<text text-anchor="start" x="2567.38" y="-217.2" font-family="Times New Roman,serif" font-size="14.00"> </text>
</g>
<!-- ragpon.repository.bm25.models.DataModels&#45;&gt;ragpon.repository.bm25.bm25_calculators.BM25PlusCalculator -->
<g id="edge54" class="edge">
<title>ragpon.repository.bm25.models.DataModels&#45;&gt;ragpon.repository.bm25.bm25_calculators.BM25PlusCalculator</title>
<path fill="none" stroke="black" d="M2498.18,-275.07C2412.91,-282.43 2273.24,-309.02 2207.5,-402.5 2169.22,-456.93 2210.26,-535.47 2240.38,-580.09"/>
<polygon fill="none" stroke="black" points="2240.38,-580.08 2247.09,-582.72 2247.24,-589.93 2240.52,-587.29 2240.38,-580.08"/>
<text text-anchor="middle" x="2245.38" y="-448.7" font-family="Times New Roman,serif" font-size="14.00" fill="green">_data_models</text>
</g>
<!-- ragpon.repository.bm25.models.DataModels&#45;&gt;ragpon.repository.bm25.bm25_repository.BM25Repository -->
<g id="edge39" class="edge">
<title>ragpon.repository.bm25.models.DataModels&#45;&gt;ragpon.repository.bm25.bm25_repository.BM25Repository</title>
<path fill="none" stroke="black" d="M2549.97,-333.25C2535.09,-383.51 2515.72,-457.09 2507.75,-523 2495.93,-620.68 2499.83,-734.23 2504.67,-807.96"/>
<polygon fill="black" stroke="black" points="2504.67,-807.93 2509.07,-813.64 2505.49,-819.9 2501.09,-814.19 2504.67,-807.93"/>
<text text-anchor="middle" x="2531" y="-526.2" font-family="Times New Roman,serif" font-size="14.00" fill="green">_models</text>
</g>
<!-- ragpon.repository.bm25.models.DataModels&#45;&gt;ragpon.repository.bm25.managers.DocumentManager -->
<g id="edge55" class="edge">
<title>ragpon.repository.bm25.models.DataModels&#45;&gt;ragpon.repository.bm25.managers.DocumentManager</title>
<path fill="none" stroke="black" d="M2582.46,-333.28C2593.95,-381.11 2612.65,-448.83 2637.5,-505 2643.62,-518.84 2651.2,-533.05 2659.03,-546.46"/>
<polygon fill="none" stroke="black" points="2659.01,-546.43 2665.52,-549.53 2665.17,-556.73 2658.66,-553.63 2659.01,-546.43"/>
<text text-anchor="middle" x="2675.38" y="-448.7" font-family="Times New Roman,serif" font-size="14.00" fill="green">_data_models</text>
</g>
<!-- ragpon.repository.bm25.managers.IndexManager -->
<g id="node38" class="node">
<title>ragpon.repository.bm25.managers.IndexManager</title>
<polygon fill="none" stroke="black" points="2721.88,-421 2721.88,-486.5 3140.62,-486.5 3140.62,-421 2721.88,-421"/>
<text text-anchor="start" x="2891.5" y="-469.2" font-family="Times New Roman,serif" font-size="14.00">IndexManager</text>
<polyline fill="none" stroke="black" points="2721.88,-462 3140.62,-462"/>
<polyline fill="none" stroke="black" points="2721.88,-462 3140.62,-462"/>
<text text-anchor="start" x="2729.88" y="-444.7" font-family="Times New Roman,serif" font-size="14.00">update_statistics(words: list[str], add: bool): None</text>
<text text-anchor="start" x="2729.88" y="-428.2" font-family="Times New Roman,serif" font-size="14.00">update_term_index(word: str, doc_id: str, count: int, remove: bool): None</text>
</g>
<!-- ragpon.repository.bm25.models.DataModels&#45;&gt;ragpon.repository.bm25.managers.IndexManager -->
<g id="edge56" class="edge">
<title>ragpon.repository.bm25.models.DataModels&#45;&gt;ragpon.repository.bm25.managers.IndexManager</title>
<path fill="none" stroke="black" d="M2640.34,-307.9C2702.27,-338.73 2791.83,-383.33 2855.19,-414.88"/>
<polygon fill="none" stroke="black" points="2855.15,-414.86 2862.31,-413.95 2865.9,-420.21 2858.74,-421.11 2855.15,-414.86"/>
<text text-anchor="middle" x="2830.07" y="-371.2" font-family="Times New Roman,serif" font-size="14.00" fill="green">_DataModels</text>
</g>
<!-- ragpon.service.document_processing_service.DatabaseFactory&#45;&gt;ragpon.service.document_processing_service.DocumentProcessingService -->
<g id="edge45" class="edge">
<title>ragpon.service.document_processing_service.DatabaseFactory&#45;&gt;ragpon.service.document_processing_service.DocumentProcessingService</title>
<path fill="none" stroke="black" d="M1252.07,-495.22C1229.97,-511.46 1208.37,-532.35 1196.25,-557.5 1148.93,-655.69 1136.41,-956.89 1196.25,-1048 1208.95,-1067.34 1225.19,-1083.83 1243.54,-1097.9"/>
<polygon fill="black" stroke="black" points="1243.5,-1097.87 1250.71,-1098.17 1253.21,-1104.93 1246,-1104.64 1243.5,-1097.87"/>
<text text-anchor="middle" x="1186.05" y="-694.7" font-family="Times New Roman,serif" font-size="14.00" fill="green">_factory</text>
</g>
<!-- ragpon.repository.bm25.managers.DocumentManager&#45;&gt;ragpon.repository.bm25.bm25_repository.BM25Repository -->
<g id="edge37" class="edge">
<title>ragpon.repository.bm25.managers.DocumentManager&#45;&gt;ragpon.repository.bm25.bm25_repository.BM25Repository</title>
<path fill="none" stroke="black" d="M2663.56,-673.32C2634.95,-713.27 2596.37,-767.14 2565.2,-810.66"/>
<polygon fill="black" stroke="black" points="2565.16,-810.72 2564.92,-817.92 2558.18,-820.47 2558.42,-813.27 2565.16,-810.72"/>
<text text-anchor="middle" x="2687.35" y="-694.7" font-family="Times New Roman,serif" font-size="14.00" fill="green">_doc_manager</text>
</g>
<!-- ragpon.domain.document_reader.ExtensionBasedDocumentReaderFactory -->
<g id="node33" class="node">
<title>ragpon.domain.document_reader.ExtensionBasedDocumentReaderFactory</title>
<polygon fill="none" stroke="black" points="3123.5,-862.5 3123.5,-911.5 3483,-911.5 3483,-862.5 3123.5,-862.5"/>
<text text-anchor="start" x="3191.5" y="-894.2" font-family="Times New Roman,serif" font-size="14.00">ExtensionBasedDocumentReaderFactory</text>
<polyline fill="none" stroke="black" points="3123.5,-887 3483,-887"/>
<polyline fill="none" stroke="black" points="3123.5,-887 3483,-887"/>
<text text-anchor="start" x="3131.5" y="-869.7" font-family="Times New Roman,serif" font-size="14.00">get_document_reader(file_path: str): AbstractDocumentReader</text>
</g>
<!-- ragpon.domain.document_reader.ExtensionBasedDocumentReaderFactory&#45;&gt;ragpon.domain.document_reader.AbstractDocumentReaderFactory -->
<g id="edge11" class="edge">
<title>ragpon.domain.document_reader.ExtensionBasedDocumentReaderFactory&#45;&gt;ragpon.domain.document_reader.AbstractDocumentReaderFactory</title>
<path fill="none" stroke="black" d="M3303.17,-911.79C3302.99,-962.93 3302.58,-1083.51 3302.37,-1143.53"/>
<polygon fill="none" stroke="black" points="3298.87,-1143.51 3302.34,-1153.52 3305.87,-1143.53 3298.87,-1143.51"/>
</g>
<!-- ragpon.domain.document_reader.ExtensionBasedDocumentReaderFactory&#45;&gt;ragpon.service.document_processing_service.DocumentProcessingService -->
<g id="edge30" class="edge">
<title>ragpon.domain.document_reader.ExtensionBasedDocumentReaderFactory&#45;&gt;ragpon.service.document_processing_service.DocumentProcessingService</title>
<path fill="none" stroke="black" d="M3284.26,-911.92C3253.25,-948.93 3187.77,-1018.82 3114.25,-1048 2910.31,-1128.95 2346.82,-1081.13 2128.25,-1100.5 2039.74,-1108.34 1944.49,-1119.01 1855.54,-1129.94"/>
<polygon fill="black" stroke="black" points="1855.55,-1129.94 1850.08,-1134.64 1843.64,-1131.41 1849.1,-1126.7 1855.55,-1129.94"/>
<text text-anchor="middle" x="3085.73" y="-1069.2" font-family="Times New Roman,serif" font-size="14.00" fill="green">_reader_factory</text>
</g>
<!-- ragpon.domain.document_processing_pipeline.FilePathDocumentProcessingPipeline&#45;&gt;ragpon.domain.document_processing_pipeline.AbstractDocumentProcessingPipeline -->
<g id="edge7" class="edge">
<title>ragpon.domain.document_processing_pipeline.FilePathDocumentProcessingPipeline&#45;&gt;ragpon.domain.document_processing_pipeline.AbstractDocumentProcessingPipeline</title>
<path fill="none" stroke="black" d="M404.69,-1410.72C360.36,-1424.84 312.66,-1440.04 273.26,-1452.59"/>
<polygon fill="none" stroke="black" points="272.29,-1449.23 263.82,-1455.6 274.41,-1455.9 272.29,-1449.23"/>
</g>
<!-- ragpon.domain.document_processing_pipeline.FileProcessingError -->
<g id="node35" class="node">
<title>ragpon.domain.document_processing_pipeline.FileProcessingError</title>
<polygon fill="none" stroke="black" points="5386.25,-247 5386.25,-296 5510.25,-296 5510.25,-247 5386.25,-247"/>
<text text-anchor="start" x="5394.25" y="-278.7" font-family="Times New Roman,serif" font-size="14.00" fill="red">FileProcessingError</text>
<polyline fill="none" stroke="black" points="5386.25,-271.5 5510.25,-271.5"/>
<polyline fill="none" stroke="black" points="5386.25,-271.5 5510.25,-271.5"/>
<text text-anchor="start" x="5446.38" y="-254.2" font-family="Times New Roman,serif" font-size="14.00" fill="red"> </text>
</g>
<!-- ragpon.domain.document_processing_pipeline.FileProcessingError&#45;&gt;ragpon.domain.document_processing_pipeline.DocumentProcessingError -->
<g id="edge8" class="edge">
<title>ragpon.domain.document_processing_pipeline.FileProcessingError&#45;&gt;ragpon.domain.document_processing_pipeline.DocumentProcessingError</title>
<path fill="none" stroke="black" d="M5469.23,-296.44C5497.17,-328.31 5546.68,-384.79 5577.91,-420.42"/>
<polygon fill="none" stroke="black" points="5575.21,-422.65 5584.44,-427.86 5580.48,-418.04 5575.21,-422.65"/>
</g>
<!-- ragpon.chunk_processor.FixedLengthChunkProcessor -->
<g id="node36" class="node">
<title>ragpon.chunk_processor.FixedLengthChunkProcessor</title>
<polygon fill="none" stroke="black" points="192.5,-850.25 192.5,-923.75 366,-923.75 366,-850.25 192.5,-850.25"/>
<text text-anchor="start" x="200.5" y="-906.45" font-family="Times New Roman,serif" font-size="14.00">FixedLengthChunkProcessor</text>
<polyline fill="none" stroke="black" points="192.5,-899.25 366,-899.25"/>
<text text-anchor="start" x="236.12" y="-881.95" font-family="Times New Roman,serif" font-size="14.00">chunk_size : int</text>
<polyline fill="none" stroke="black" points="192.5,-874.75 366,-874.75"/>
<text text-anchor="start" x="210.62" y="-857.45" font-family="Times New Roman,serif" font-size="14.00">process(text: str): list[str]</text>
</g>
<!-- ragpon.chunk_processor.FixedLengthChunkProcessor&#45;&gt;ragpon.chunk_processor.AbstractChunkProcessor -->
<g id="edge1" class="edge">
<title>ragpon.chunk_processor.FixedLengthChunkProcessor&#45;&gt;ragpon.chunk_processor.AbstractChunkProcessor</title>
<path fill="none" stroke="black" d="M295.63,-923.93C312.31,-958.14 340.49,-1009.93 374.25,-1048 409.85,-1088.15 459.25,-1124.53 495.62,-1148.66"/>
<polygon fill="none" stroke="black" points="493.49,-1151.45 503.78,-1154.01 497.33,-1145.6 493.49,-1151.45"/>
</g>
<!-- ragpon.domain.document_reader.HTMLReader -->
<g id="node37" class="node">
<title>ragpon.domain.document_reader.HTMLReader</title>
<polygon fill="none" stroke="black" points="2899.25,-45.75 2899.25,-94.75 3263.25,-94.75 3263.25,-45.75 2899.25,-45.75"/>
<text text-anchor="start" x="3042.62" y="-77.45" font-family="Times New Roman,serif" font-size="14.00">HTMLReader</text>
<polyline fill="none" stroke="black" points="2899.25,-70.25 3263.25,-70.25"/>
<polyline fill="none" stroke="black" points="2899.25,-70.25 3263.25,-70.25"/>
<text text-anchor="start" x="2907.25" y="-52.95" font-family="Times New Roman,serif" font-size="14.00">read_document(start_page_number: int): list[ChunkSourceInfo]</text>
</g>
<!-- ragpon.domain.document_reader.HTMLReader&#45;&gt;ragpon.domain.document_reader.AbstractDocumentReader -->
<g id="edge12" class="edge">
<title>ragpon.domain.document_reader.HTMLReader&#45;&gt;ragpon.domain.document_reader.AbstractDocumentReader</title>
<path fill="none" stroke="black" d="M3141.26,-95.19C3178.56,-109.52 3227.74,-127.44 3272.25,-140.5 3397.17,-177.16 3539.95,-209.58 3651.73,-232.87"/>
<polygon fill="none" stroke="black" points="3650.81,-236.25 3661.31,-234.86 3652.23,-229.4 3650.81,-236.25"/>
</g>
<!-- ragpon.repository.bm25.managers.IndexManager&#45;&gt;ragpon.repository.bm25.bm25_repository.BM25Repository -->
<g id="edge38" class="edge">
<title>ragpon.repository.bm25.managers.IndexManager&#45;&gt;ragpon.repository.bm25.bm25_repository.BM25Repository</title>
<path fill="none" stroke="black" d="M2931.38,-486.68C2930,-532.49 2921.38,-617.51 2879.25,-673.5 2850.71,-711.43 2827.43,-702.4 2786.25,-726 2736.12,-754.73 2681.05,-786.69 2633.43,-814.45"/>
<polygon fill="black" stroke="black" points="2633.59,-814.36 2630.43,-820.84 2623.23,-820.41 2626.4,-813.93 2633.59,-814.36"/>
<text text-anchor="middle" x="2969.47" y="-610.45" font-family="Times New Roman,serif" font-size="14.00" fill="green">_index_manager</text>
</g>
<!-- ragpon.repository.bm25.managers.IndexManager&#45;&gt;ragpon.repository.bm25.managers.DocumentManager -->
<g id="edge53" class="edge">
<title>ragpon.repository.bm25.managers.IndexManager&#45;&gt;ragpon.repository.bm25.managers.DocumentManager</title>
<path fill="none" stroke="black" d="M2871.32,-486.84C2852.4,-497.67 2831.69,-510.25 2813.5,-523 2801.83,-531.18 2789.87,-540.32 2778.36,-549.56"/>
<polygon fill="none" stroke="black" points="2778.37,-549.54 2776.24,-556.43 2769.07,-557.12 2771.19,-550.23 2778.37,-549.54"/>
<text text-anchor="middle" x="2858.88" y="-526.2" font-family="Times New Roman,serif" font-size="14.00" fill="green">_index_manager</text>
</g>
<!-- ragpon.chunk_processor.JAGinzaChunkProcessor -->
<g id="node39" class="node">
<title>ragpon.chunk_processor.JAGinzaChunkProcessor</title>
<polygon fill="none" stroke="black" points="725.62,-842 725.62,-932 878.88,-932 878.88,-842 725.62,-842"/>
<text text-anchor="start" x="734.38" y="-914.7" font-family="Times New Roman,serif" font-size="14.00">JAGinzaChunkProcessor</text>
<polyline fill="none" stroke="black" points="725.62,-907.5 878.88,-907.5"/>
<text text-anchor="start" x="759.12" y="-890.2" font-family="Times New Roman,serif" font-size="14.00">chunk_size : int</text>
<text text-anchor="start" x="759.12" y="-873.7" font-family="Times New Roman,serif" font-size="14.00">nlp</text>
<polyline fill="none" stroke="black" points="725.62,-866.5 878.88,-866.5"/>
<text text-anchor="start" x="733.62" y="-849.2" font-family="Times New Roman,serif" font-size="14.00">process(text: str): list[str]</text>
</g>
<!-- ragpon.chunk_processor.JAGinzaChunkProcessor&#45;&gt;ragpon.chunk_processor.AbstractChunkProcessor -->
<g id="edge2" class="edge">
<title>ragpon.chunk_processor.JAGinzaChunkProcessor&#45;&gt;ragpon.chunk_processor.AbstractChunkProcessor</title>
<path fill="none" stroke="black" d="M785.01,-932.23C770.34,-966.25 746.94,-1013.17 717.25,-1048 682.27,-1089.03 632.29,-1125.07 595.04,-1148.86"/>
<polygon fill="none" stroke="black" points="593.26,-1145.85 586.66,-1154.14 596.99,-1151.77 593.26,-1145.85"/>
</g>
<!-- ragpon.chunk_processor.JAGinzaChunkProcessor&#45;&gt;ragpon.service.document_processing_service.DocumentProcessingService -->
<g id="edge28" class="edge">
<title>ragpon.chunk_processor.JAGinzaChunkProcessor&#45;&gt;ragpon.service.document_processing_service.DocumentProcessingService</title>
<path fill="none" stroke="black" d="M804.69,-932.41C809.68,-977.38 824.62,-1045.42 869,-1082.5 881.02,-1092.54 1005.73,-1112.55 1140.99,-1131.74"/>
<polygon fill="black" stroke="black" points="1140.91,-1131.73 1147.42,-1128.61 1152.8,-1133.41 1146.3,-1136.53 1140.91,-1131.73"/>
<text text-anchor="middle" x="918.12" y="-1069.2" font-family="Times New Roman,serif" font-size="14.00" fill="green">_chunk_processor</text>
</g>
<!-- ragpon.ml_models.reranker.JapaneseRerankerCrossEncoderLargeV1Evaluator -->
<g id="node40" class="node">
<title>ragpon.ml_models.reranker.JapaneseRerankerCrossEncoderLargeV1Evaluator</title>
<polygon fill="none" stroke="black" points="2794.88,-842 2794.88,-932 3105.62,-932 3105.62,-842 2794.88,-842"/>
<text text-anchor="start" x="2813.38" y="-914.7" font-family="Times New Roman,serif" font-size="14.00">JapaneseRerankerCrossEncoderLargeV1Evaluator</text>
<polyline fill="none" stroke="black" points="2794.88,-907.5 3105.62,-907.5"/>
<text text-anchor="start" x="2889.5" y="-890.2" font-family="Times New Roman,serif" font-size="14.00">model : CrossEncoder</text>
<polyline fill="none" stroke="black" points="2794.88,-883 3105.62,-883"/>
<text text-anchor="start" x="2802.88" y="-865.7" font-family="Times New Roman,serif" font-size="14.00">score_batch(question: str, answers: list[str]): list[float]</text>
<text text-anchor="start" x="2802.88" y="-849.2" font-family="Times New Roman,serif" font-size="14.00">score_single(question: str, answer: str): list[float]</text>
</g>
<!-- ragpon.ml_models.reranker.JapaneseRerankerCrossEncoderLargeV1Evaluator&#45;&gt;ragpon.ml_models.reranker.AbstractRelevanceEvaluator -->
<g id="edge22" class="edge">
<title>ragpon.ml_models.reranker.JapaneseRerankerCrossEncoderLargeV1Evaluator&#45;&gt;ragpon.ml_models.reranker.AbstractRelevanceEvaluator</title>
<path fill="none" stroke="black" d="M2982.28,-932.22C3012.01,-969.64 3059.78,-1021.3 3114.25,-1048 3266.16,-1122.45 3329.17,-1052.03 3491.25,-1100.5 3526.73,-1111.11 3564.18,-1128.33 3594.42,-1143.91"/>
<polygon fill="none" stroke="black" points="3592.56,-1146.89 3603.04,-1148.42 3595.8,-1140.69 3592.56,-1146.89"/>
</g>
<!-- ragpon.ml_models.reranker.JapaneseRerankerCrossEncoderLargeV1Evaluator&#45;&gt;ragpon.service.document_processing_service.DocumentProcessingService -->
<g id="edge34" class="edge">
<title>ragpon.ml_models.reranker.JapaneseRerankerCrossEncoderLargeV1Evaluator&#45;&gt;ragpon.service.document_processing_service.DocumentProcessingService</title>
<path fill="none" stroke="black" d="M2920.01,-932.15C2890.82,-970.62 2842.79,-1023.91 2786.25,-1048 2729.64,-1072.12 2293.65,-1057.21 2232.75,-1066 2203.89,-1070.17 2197.84,-1076.75 2169.25,-1082.5 2068.04,-1102.84 1957.42,-1120.54 1855.7,-1135.03"/>
<polygon fill="black" stroke="black" points="1855.8,-1135.01 1850.42,-1139.81 1843.92,-1136.69 1849.3,-1131.89 1855.8,-1135.01"/>
<text text-anchor="middle" x="2290.5" y="-1069.2" font-family="Times New Roman,serif" font-size="14.00" fill="green">_relevance_evaluator</text>
</g>
<!-- ragpon.repository.bm25.models.BaseDocumentModel.Meta -->
<g id="node41" class="node">
<title>ragpon.repository.bm25.models.BaseDocumentModel.Meta</title>
<polygon fill="none" stroke="black" points="5866.25,-45.75 5866.25,-94.75 5920.25,-94.75 5920.25,-45.75 5866.25,-45.75"/>
<text text-anchor="start" x="5878.75" y="-77.45" font-family="Times New Roman,serif" font-size="14.00">Meta</text>
<polyline fill="none" stroke="black" points="5866.25,-70.25 5919.75,-70.25"/>
<polyline fill="none" stroke="black" points="5866.25,-70.25 5919.75,-70.25"/>
<text text-anchor="start" x="5891.12" y="-52.95" font-family="Times New Roman,serif" font-size="14.00"> </text>
</g>
<!-- ragpon.repository.bm25.models.create_statistics_model.Statistics.Meta -->
<g id="node42" class="node">
<title>ragpon.repository.bm25.models.create_statistics_model.Statistics.Meta</title>
<polygon fill="none" stroke="black" points="5938,-33.5 5938,-107 6000.5,-107 6000.5,-33.5 5938,-33.5"/>
<text text-anchor="start" x="5955" y="-89.7" font-family="Times New Roman,serif" font-size="14.00">Meta</text>
<polyline fill="none" stroke="black" points="5938,-82.5 6000.5,-82.5"/>
<text text-anchor="start" x="5946" y="-65.2" font-family="Times New Roman,serif" font-size="14.00">database</text>
<polyline fill="none" stroke="black" points="5938,-58 6000.5,-58"/>
<text text-anchor="start" x="5967.38" y="-40.7" font-family="Times New Roman,serif" font-size="14.00"> </text>
</g>
<!-- ragpon.repository.bm25.models.create_term_model.Term.Meta -->
<g id="node43" class="node">
<title>ragpon.repository.bm25.models.create_term_model.Term.Meta</title>
<polygon fill="none" stroke="black" points="6019,-33.5 6019,-107 6081.5,-107 6081.5,-33.5 6019,-33.5"/>
<text text-anchor="start" x="6036" y="-89.7" font-family="Times New Roman,serif" font-size="14.00">Meta</text>
<polyline fill="none" stroke="black" points="6019,-82.5 6081.5,-82.5"/>
<text text-anchor="start" x="6027" y="-65.2" font-family="Times New Roman,serif" font-size="14.00">database</text>
<polyline fill="none" stroke="black" points="6019,-58 6081.5,-58"/>
<text text-anchor="start" x="6048.38" y="-40.7" font-family="Times New Roman,serif" font-size="14.00"> </text>
</g>
<!-- ragpon.repository.bm25.models.create_term_frequency_model.TermFrequency.Meta -->
<g id="node44" class="node">
<title>ragpon.repository.bm25.models.create_term_frequency_model.TermFrequency.Meta</title>
<polygon fill="none" stroke="black" points="6099.88,-17 6099.88,-123.5 6278.62,-123.5 6278.62,-17 6099.88,-17"/>
<text text-anchor="start" x="6175" y="-106.2" font-family="Times New Roman,serif" font-size="14.00">Meta</text>
<polyline fill="none" stroke="black" points="6099.88,-99 6278.62,-99"/>
<text text-anchor="start" x="6107.88" y="-81.7" font-family="Times New Roman,serif" font-size="14.00">database</text>
<text text-anchor="start" x="6107.88" y="-65.2" font-family="Times New Roman,serif" font-size="14.00">indexes : tuple</text>
<text text-anchor="start" x="6107.88" y="-48.7" font-family="Times New Roman,serif" font-size="14.00">primary_key : CompositeKey</text>
<polyline fill="none" stroke="black" points="6099.88,-41.5 6278.62,-41.5"/>
<text text-anchor="start" x="6187.38" y="-24.2" font-family="Times New Roman,serif" font-size="14.00"> </text>
</g>
<!-- ragpon.domain.document_processing_pipeline.MetadataGenerationError -->
<g id="node45" class="node">
<title>ragpon.domain.document_processing_pipeline.MetadataGenerationError</title>
<polygon fill="none" stroke="black" points="5528.5,-247 5528.5,-296 5684,-296 5684,-247 5528.5,-247"/>
<text text-anchor="start" x="5536.5" y="-278.7" font-family="Times New Roman,serif" font-size="14.00" fill="red">MetadataGenerationError</text>
<polyline fill="none" stroke="black" points="5528.5,-271.5 5684,-271.5"/>
<polyline fill="none" stroke="black" points="5528.5,-271.5 5684,-271.5"/>
<text text-anchor="start" x="5604.38" y="-254.2" font-family="Times New Roman,serif" font-size="14.00" fill="red"> </text>
</g>
<!-- ragpon.domain.document_processing_pipeline.MetadataGenerationError&#45;&gt;ragpon.domain.document_processing_pipeline.DocumentProcessingError -->
<g id="edge9" class="edge">
<title>ragpon.domain.document_processing_pipeline.MetadataGenerationError&#45;&gt;ragpon.domain.document_processing_pipeline.DocumentProcessingError</title>
<path fill="none" stroke="black" d="M5606.25,-296.44C5606.25,-327.5 5606.25,-381.93 5606.25,-417.66"/>
<polygon fill="none" stroke="black" points="5602.75,-417.49 5606.25,-427.49 5609.75,-417.49 5602.75,-417.49"/>
</g>
<!-- ragpon.ml_models.large_language_model.Mixtral8x7BInstructV01 -->
<g id="node46" class="node">
<title>ragpon.ml_models.large_language_model.Mixtral8x7BInstructV01</title>
<polygon fill="none" stroke="black" points="4809,-8.75 4809,-131.75 5057.5,-131.75 5057.5,-8.75 4809,-8.75"/>
<text text-anchor="start" x="4865.75" y="-114.45" font-family="Times New Roman,serif" font-size="14.00">Mixtral8x7BInstructV01</text>
<polyline fill="none" stroke="black" points="4809,-107.25 5057.5,-107.25"/>
<text text-anchor="start" x="4817" y="-89.95" font-family="Times New Roman,serif" font-size="14.00">model</text>
<text text-anchor="start" x="4817" y="-73.45" font-family="Times New Roman,serif" font-size="14.00">model_generate_config : dict</text>
<text text-anchor="start" x="4817" y="-56.95" font-family="Times New Roman,serif" font-size="14.00">quantization_config : BitsAndBytesConfig</text>
<text text-anchor="start" x="4817" y="-40.45" font-family="Times New Roman,serif" font-size="14.00">tokenizer : PreTrainedTokenizerFast</text>
<polyline fill="none" stroke="black" points="4809,-33.25 5057.5,-33.25"/>
<text text-anchor="start" x="4874.75" y="-15.95" font-family="Times New Roman,serif" font-size="14.00">generate(text: str): str</text>
</g>
<!-- ragpon.ml_models.large_language_model.Mixtral8x7BInstructV01&#45;&gt;ragpon.ml_models.large_language_model.AbstractLargeLanguageModel -->
<g id="edge21" class="edge">
<title>ragpon.ml_models.large_language_model.Mixtral8x7BInstructV01&#45;&gt;ragpon.ml_models.large_language_model.AbstractLargeLanguageModel</title>
<path fill="none" stroke="black" d="M4933.25,-132.11C4933.25,-165.96 4933.25,-206.88 4933.25,-235.41"/>
<polygon fill="none" stroke="black" points="4929.75,-235.3 4933.25,-245.3 4936.75,-235.3 4929.75,-235.3"/>
</g>
<!-- ragpon.ml_models.embedding_model.MultilingualE5LargeEmbedder -->
<g id="node47" class="node">
<title>ragpon.ml_models.embedding_model.MultilingualE5LargeEmbedder</title>
<polygon fill="none" stroke="black" points="1250,-201.75 1250,-341.25 1588.5,-341.25 1588.5,-201.75 1250,-201.75"/>
<text text-anchor="start" x="1333.75" y="-323.95" font-family="Times New Roman,serif" font-size="14.00">MultilingualE5LargeEmbedder</text>
<polyline fill="none" stroke="black" points="1250,-316.75 1588.5,-316.75"/>
<text text-anchor="start" x="1320.25" y="-299.45" font-family="Times New Roman,serif" font-size="14.00">model</text>
<text text-anchor="start" x="1320.25" y="-282.95" font-family="Times New Roman,serif" font-size="14.00">passage_prefix : str</text>
<text text-anchor="start" x="1320.25" y="-266.45" font-family="Times New Roman,serif" font-size="14.00">query_prefix : str</text>
<text text-anchor="start" x="1320.25" y="-249.95" font-family="Times New Roman,serif" font-size="14.00">tokenizer : PreTrainedTokenizerFast</text>
<polyline fill="none" stroke="black" points="1250,-242.75 1588.5,-242.75"/>
<text text-anchor="start" x="1258" y="-225.45" font-family="Times New Roman,serif" font-size="14.00">embed_batch(texts: list[str], use_prefix: str): list[list[float]]</text>
<text text-anchor="start" x="1258" y="-208.95" font-family="Times New Roman,serif" font-size="14.00">embed_single(text: str, use_prefix: str): list[list[float]]</text>
</g>
<!-- ragpon.ml_models.embedding_model.MultilingualE5LargeEmbedder&#45;&gt;ragpon.ml_models.embedding_model.AbstractEmbeddingModel -->
<g id="edge19" class="edge">
<title>ragpon.ml_models.embedding_model.MultilingualE5LargeEmbedder&#45;&gt;ragpon.ml_models.embedding_model.AbstractEmbeddingModel</title>
<path fill="none" stroke="black" d="M1575.83,-341.67C1618,-360.31 1663.03,-380.2 1703.17,-397.93"/>
<polygon fill="none" stroke="black" points="1701.59,-401.06 1712.15,-401.9 1704.41,-394.66 1701.59,-401.06"/>
</g>
<!-- ragpon.ml_models.embedding_model.MultilingualE5LargeEmbedder&#45;&gt;ragpon.service.document_processing_service.DatabaseFactory -->
<g id="edge33" class="edge">
<title>ragpon.ml_models.embedding_model.MultilingualE5LargeEmbedder&#45;&gt;ragpon.service.document_processing_service.DatabaseFactory</title>
<path fill="none" stroke="black" d="M1383.18,-341.67C1372.89,-361.39 1361.87,-382.53 1352.23,-401.02"/>
<polygon fill="black" stroke="black" points="1352.23,-401.01 1353.01,-408.18 1346.69,-411.65 1345.91,-404.48 1352.23,-401.01"/>
<text text-anchor="middle" x="1399.81" y="-371.2" font-family="Times New Roman,serif" font-size="14.00" fill="green">_embedder</text>
</g>
<!-- ragpon.chunk_processor.NaturalChunkProcessor -->
<g id="node48" class="node">
<title>ragpon.chunk_processor.NaturalChunkProcessor</title>
<polygon fill="none" stroke="black" points="383.62,-862.5 383.62,-911.5 536.88,-911.5 536.88,-862.5 383.62,-862.5"/>
<text text-anchor="start" x="395.75" y="-894.2" font-family="Times New Roman,serif" font-size="14.00">NaturalChunkProcessor</text>
<polyline fill="none" stroke="black" points="383.62,-887 536.88,-887"/>
<polyline fill="none" stroke="black" points="383.62,-887 536.88,-887"/>
<text text-anchor="start" x="391.62" y="-869.7" font-family="Times New Roman,serif" font-size="14.00">process(text: str): list[str]</text>
</g>
<!-- ragpon.chunk_processor.NaturalChunkProcessor&#45;&gt;ragpon.chunk_processor.AbstractChunkProcessor -->
<g id="edge3" class="edge">
<title>ragpon.chunk_processor.NaturalChunkProcessor&#45;&gt;ragpon.chunk_processor.AbstractChunkProcessor</title>
<path fill="none" stroke="black" d="M467.12,-911.79C481.96,-963.14 517.03,-1084.52 534.29,-1144.28"/>
<polygon fill="none" stroke="black" points="530.84,-1144.95 536.98,-1153.58 537.57,-1143 530.84,-1144.95"/>
</g>
<!-- ragpon.domain.document_reader.PDFReaderPyMuPDF -->
<g id="node49" class="node">
<title>ragpon.domain.document_reader.PDFReaderPyMuPDF</title>
<polygon fill="none" stroke="black" points="3281.25,-45.75 3281.25,-94.75 3645.25,-94.75 3645.25,-45.75 3281.25,-45.75"/>
<text text-anchor="start" x="3402.5" y="-77.45" font-family="Times New Roman,serif" font-size="14.00">PDFReaderPyMuPDF</text>
<polyline fill="none" stroke="black" points="3281.25,-70.25 3645.25,-70.25"/>
<polyline fill="none" stroke="black" points="3281.25,-70.25 3645.25,-70.25"/>
<text text-anchor="start" x="3289.25" y="-52.95" font-family="Times New Roman,serif" font-size="14.00">read_document(start_page_number: int): list[ChunkSourceInfo]</text>
</g>
<!-- ragpon.domain.document_reader.PDFReaderPyMuPDF&#45;&gt;ragpon.domain.document_reader.AbstractDocumentReader -->
<g id="edge13" class="edge">
<title>ragpon.domain.document_reader.PDFReaderPyMuPDF&#45;&gt;ragpon.domain.document_reader.AbstractDocumentReader</title>
<path fill="none" stroke="black" d="M3508.95,-95.09C3572.48,-128.22 3688.41,-188.69 3766.15,-229.24"/>
<polygon fill="none" stroke="black" points="3764.08,-232.11 3774.56,-233.63 3767.31,-225.9 3764.08,-232.11"/>
</g>
<!-- ragpon.domain.document_reader.PDFReaderPyPDF -->
<g id="node50" class="node">
<title>ragpon.domain.document_reader.PDFReaderPyPDF</title>
<polygon fill="none" stroke="black" points="3663.25,-45.75 3663.25,-94.75 4027.25,-94.75 4027.25,-45.75 3663.25,-45.75"/>
<text text-anchor="start" x="3794.25" y="-77.45" font-family="Times New Roman,serif" font-size="14.00">PDFReaderPyPDF</text>
<polyline fill="none" stroke="black" points="3663.25,-70.25 4027.25,-70.25"/>
<polyline fill="none" stroke="black" points="3663.25,-70.25 4027.25,-70.25"/>
<text text-anchor="start" x="3671.25" y="-52.95" font-family="Times New Roman,serif" font-size="14.00">read_document(start_page_number: int): list[ChunkSourceInfo]</text>
</g>
<!-- ragpon.domain.document_reader.PDFReaderPyPDF&#45;&gt;ragpon.domain.document_reader.AbstractDocumentReader -->
<g id="edge14" class="edge">
<title>ragpon.domain.document_reader.PDFReaderPyPDF&#45;&gt;ragpon.domain.document_reader.AbstractDocumentReader</title>
<path fill="none" stroke="black" d="M3845.25,-94.89C3845.25,-126.32 3845.25,-182.59 3845.25,-222.98"/>
<polygon fill="none" stroke="black" points="3841.75,-222.92 3845.25,-232.92 3848.75,-222.92 3841.75,-222.92"/>
</g>
<!-- ragpon.config.proxy_configurator.ProxyConfigurator -->
<g id="node51" class="node">
<title>ragpon.config.proxy_configurator.ProxyConfigurator</title>
<polygon fill="none" stroke="black" points="6296.88,-0.5 6296.88,-140 6685.62,-140 6685.62,-0.5 6296.88,-0.5"/>
<text text-anchor="start" x="6440.25" y="-122.7" font-family="Times New Roman,serif" font-size="14.00">ProxyConfigurator</text>
<polyline fill="none" stroke="black" points="6296.88,-115.5 6685.62,-115.5"/>
<text text-anchor="start" x="6423.75" y="-98.2" font-family="Times New Roman,serif" font-size="14.00">proxies : NoneType, dict</text>
<polyline fill="none" stroke="black" points="6296.88,-91 6685.62,-91"/>
<text text-anchor="start" x="6304.88" y="-73.7" font-family="Times New Roman,serif" font-size="14.00">get_proxies()</text>
<text text-anchor="start" x="6304.88" y="-57.2" font-family="Times New Roman,serif" font-size="14.00">use_environment_variables()</text>
<text text-anchor="start" x="6304.88" y="-40.7" font-family="Times New Roman,serif" font-size="14.00">use_getpass_credentials(proxy_url: str)</text>
<text text-anchor="start" x="6304.88" y="-24.2" font-family="Times New Roman,serif" font-size="14.00">use_manual_credentials(username: str, password: str, proxy_url: str)</text>
<text text-anchor="start" x="6304.88" y="-7.7" font-family="Times New Roman,serif" font-size="14.00">use_truststore()</text>
</g>
<!-- ragpon.domain.document_processing_pipeline.RowProcessingError -->
<g id="node53" class="node">
<title>ragpon.domain.document_processing_pipeline.RowProcessingError</title>
<polygon fill="none" stroke="black" points="5720,-45.75 5720,-94.75 5848.5,-94.75 5848.5,-45.75 5720,-45.75"/>
<text text-anchor="start" x="5728" y="-77.45" font-family="Times New Roman,serif" font-size="14.00" fill="red">RowProcessingError</text>
<polyline fill="none" stroke="black" points="5720,-70.25 5848.5,-70.25"/>
<polyline fill="none" stroke="black" points="5720,-70.25 5848.5,-70.25"/>
<text text-anchor="start" x="5782.38" y="-52.95" font-family="Times New Roman,serif" font-size="14.00" fill="red"> </text>
</g>
<!-- ragpon.domain.document_processing_pipeline.RowProcessingError&#45;&gt;ragpon.domain.document_processing_pipeline.DataFrameProcessingError -->
<g id="edge10" class="edge">
<title>ragpon.domain.document_processing_pipeline.RowProcessingError&#45;&gt;ragpon.domain.document_processing_pipeline.DataFrameProcessingError</title>
<path fill="none" stroke="black" d="M5784.25,-94.89C5784.25,-129.62 5784.25,-194.7 5784.25,-235.13"/>
<polygon fill="none" stroke="black" points="5780.75,-235.07 5784.25,-245.07 5787.75,-235.07 5780.75,-235.07"/>
</g>
<!-- ragpon.ml_models.embedding_model.RuriLargeEmbedder -->
<g id="node54" class="node">
<title>ragpon.ml_models.embedding_model.RuriLargeEmbedder</title>
<polygon fill="none" stroke="black" points="1784,-210 1784,-333 2122.5,-333 2122.5,-210 1784,-210"/>
<text text-anchor="start" x="1897.38" y="-315.7" font-family="Times New Roman,serif" font-size="14.00">RuriLargeEmbedder</text>
<polyline fill="none" stroke="black" points="1784,-308.5 2122.5,-308.5"/>
<text text-anchor="start" x="1871.88" y="-291.2" font-family="Times New Roman,serif" font-size="14.00">model : SentenceTransformer</text>
<text text-anchor="start" x="1871.88" y="-274.7" font-family="Times New Roman,serif" font-size="14.00">passage_prefix : str</text>
<text text-anchor="start" x="1871.88" y="-258.2" font-family="Times New Roman,serif" font-size="14.00">query_prefix : str</text>
<polyline fill="none" stroke="black" points="1784,-251 2122.5,-251"/>
<text text-anchor="start" x="1792" y="-233.7" font-family="Times New Roman,serif" font-size="14.00">embed_batch(texts: list[str], use_prefix: str): list[list[float]]</text>
<text text-anchor="start" x="1792" y="-217.2" font-family="Times New Roman,serif" font-size="14.00">embed_single(text: str, use_prefix: str): list[list[float]]</text>
</g>
<!-- ragpon.ml_models.embedding_model.RuriLargeEmbedder&#45;&gt;ragpon.ml_models.embedding_model.AbstractEmbeddingModel -->
<g id="edge20" class="edge">
<title>ragpon.ml_models.embedding_model.RuriLargeEmbedder&#45;&gt;ragpon.ml_models.embedding_model.AbstractEmbeddingModel</title>
<path fill="none" stroke="black" d="M1910.77,-333.27C1897.2,-352.68 1882.2,-374.13 1868.71,-393.44"/>
<polygon fill="none" stroke="black" points="1865.95,-391.28 1863.09,-401.49 1871.68,-395.29 1865.95,-391.28"/>
</g>
<!-- ragpon.ml_models.reranker.RuriRerankerLargeEvaluator -->
<g id="node55" class="node">
<title>ragpon.ml_models.reranker.RuriRerankerLargeEvaluator</title>
<polygon fill="none" stroke="black" points="3500.88,-842 3500.88,-932 3811.62,-932 3811.62,-842 3500.88,-842"/>
<text text-anchor="start" x="3577.5" y="-914.7" font-family="Times New Roman,serif" font-size="14.00">RuriRerankerLargeEvaluator</text>
<polyline fill="none" stroke="black" points="3500.88,-907.5 3811.62,-907.5"/>
<text text-anchor="start" x="3595.5" y="-890.2" font-family="Times New Roman,serif" font-size="14.00">model : CrossEncoder</text>
<polyline fill="none" stroke="black" points="3500.88,-883 3811.62,-883"/>
<text text-anchor="start" x="3508.88" y="-865.7" font-family="Times New Roman,serif" font-size="14.00">score_batch(question: str, answers: list[str]): list[float]</text>
<text text-anchor="start" x="3508.88" y="-849.2" font-family="Times New Roman,serif" font-size="14.00">score_single(question: str, answer: str): list[float]</text>
</g>
<!-- ragpon.ml_models.reranker.RuriRerankerLargeEvaluator&#45;&gt;ragpon.ml_models.reranker.AbstractRelevanceEvaluator -->
<g id="edge23" class="edge">
<title>ragpon.ml_models.reranker.RuriRerankerLargeEvaluator&#45;&gt;ragpon.ml_models.reranker.AbstractRelevanceEvaluator</title>
<path fill="none" stroke="black" d="M3656.25,-932.48C3656.25,-988.5 3656.25,-1083.96 3656.25,-1138.11"/>
<polygon fill="none" stroke="black" points="3652.75,-1137.82 3656.25,-1147.82 3659.75,-1137.82 3652.75,-1137.82"/>
</g>
<!-- ragpon.chunk_processor.SingleChunkProcessor -->
<g id="node56" class="node">
<title>ragpon.chunk_processor.SingleChunkProcessor</title>
<polygon fill="none" stroke="black" points="554.62,-862.5 554.62,-911.5 707.88,-911.5 707.88,-862.5 554.62,-862.5"/>
<text text-anchor="start" x="569.75" y="-894.2" font-family="Times New Roman,serif" font-size="14.00">SingleChunkProcessor</text>
<polyline fill="none" stroke="black" points="554.62,-887 707.88,-887"/>
<polyline fill="none" stroke="black" points="554.62,-887 707.88,-887"/>
<text text-anchor="start" x="562.62" y="-869.7" font-family="Times New Roman,serif" font-size="14.00">process(text: str): list[str]</text>
</g>
<!-- ragpon.chunk_processor.SingleChunkProcessor&#45;&gt;ragpon.chunk_processor.AbstractChunkProcessor -->
<g id="edge4" class="edge">
<title>ragpon.chunk_processor.SingleChunkProcessor&#45;&gt;ragpon.chunk_processor.AbstractChunkProcessor</title>
<path fill="none" stroke="black" d="M624.13,-911.79C608.77,-963.14 572.45,-1084.52 554.56,-1144.28"/>
<polygon fill="none" stroke="black" points="551.29,-1143 551.78,-1153.59 558,-1145.01 551.29,-1143"/>
</g>
<!-- ragpon.repository.bm25.models.create_statistics_model.Statistics -->
<g id="node57" class="node">
<title>ragpon.repository.bm25.models.create_statistics_model.Statistics</title>
<polygon fill="none" stroke="black" points="2244.88,-25.25 2244.88,-115.25 2447.62,-115.25 2447.62,-25.25 2244.88,-25.25"/>
<text text-anchor="start" x="2321.88" y="-97.95" font-family="Times New Roman,serif" font-size="14.00">Statistics</text>
<polyline fill="none" stroke="black" points="2244.88,-90.75 2447.62,-90.75"/>
<text text-anchor="start" x="2252.88" y="-73.45" font-family="Times New Roman,serif" font-size="14.00">total_documents : BigIntegerField</text>
<text text-anchor="start" x="2252.88" y="-56.95" font-family="Times New Roman,serif" font-size="14.00">total_words : BigIntegerField</text>
<polyline fill="none" stroke="black" points="2244.88,-49.75 2447.62,-49.75"/>
<text text-anchor="start" x="2344.38" y="-32.45" font-family="Times New Roman,serif" font-size="14.00"> </text>
</g>
<!-- ragpon.repository.bm25.models.create_statistics_model.Statistics&#45;&gt;ragpon.repository.bm25.models.DataModels -->
<g id="edge40" class="edge">
<title>ragpon.repository.bm25.models.create_statistics_model.Statistics&#45;&gt;ragpon.repository.bm25.models.DataModels</title>
<path fill="none" stroke="black" d="M2396.02,-115.72C2424.05,-140.77 2459.69,-172.61 2491.35,-200.89"/>
<polygon fill="black" stroke="black" points="2491.41,-200.95 2498.55,-201.97 2500.36,-208.95 2493.22,-207.93 2491.41,-200.95"/>
<text text-anchor="middle" x="2482.12" y="-161.7" font-family="Times New Roman,serif" font-size="14.00" fill="green">Statistics</text>
</g>
<!-- ragpon.tokenizer.SudachiTokenizer -->
<g id="node58" class="node">
<title>ragpon.tokenizer.SudachiTokenizer</title>
<polygon fill="none" stroke="black" points="1607,-247 1607,-296 1765.5,-296 1765.5,-247 1607,-247"/>
<text text-anchor="start" x="1637.5" y="-278.7" font-family="Times New Roman,serif" font-size="14.00">SudachiTokenizer</text>
<polyline fill="none" stroke="black" points="1607,-271.5 1765.5,-271.5"/>
<polyline fill="none" stroke="black" points="1607,-271.5 1765.5,-271.5"/>
<text text-anchor="start" x="1615" y="-254.2" font-family="Times New Roman,serif" font-size="14.00">tokenize(text: str): list[str]</text>
</g>
<!-- ragpon.tokenizer.SudachiTokenizer&#45;&gt;ragpon.tokenizer.AbstractTokenizer -->
<g id="edge27" class="edge">
<title>ragpon.tokenizer.SudachiTokenizer&#45;&gt;ragpon.tokenizer.AbstractTokenizer</title>
<path fill="none" stroke="black" d="M1705.89,-296.15C1722.38,-314.22 1747.63,-337.99 1775.25,-350 1981.37,-439.64 2061.5,-342.98 2278.25,-402.5 2297.06,-407.67 2316.69,-415.77 2334.03,-423.98"/>
<polygon fill="none" stroke="black" points="2332.06,-426.92 2342.59,-428.14 2335.12,-420.62 2332.06,-426.92"/>
</g>
<!-- ragpon.tokenizer.SudachiTokenizer&#45;&gt;ragpon.service.document_processing_service.DatabaseFactory -->
<g id="edge46" class="edge">
<title>ragpon.tokenizer.SudachiTokenizer&#45;&gt;ragpon.service.document_processing_service.DatabaseFactory</title>
<path fill="none" stroke="black" d="M1663.52,-296.39C1646.53,-313.17 1622.05,-335.18 1597.25,-350 1558.9,-372.93 1514.55,-392.28 1472.94,-407.8"/>
<polygon fill="black" stroke="black" points="1472.82,-407.84 1468.56,-413.66 1461.55,-411.97 1465.81,-406.15 1472.82,-407.84"/>
<text text-anchor="middle" x="1591.18" y="-371.2" font-family="Times New Roman,serif" font-size="14.00" fill="green">_tokenizer</text>
</g>
<!-- ragpon.domain.document_reader.TXTReader -->
<g id="node59" class="node">
<title>ragpon.domain.document_reader.TXTReader</title>
<polygon fill="none" stroke="black" points="4045.25,-45.75 4045.25,-94.75 4409.25,-94.75 4409.25,-45.75 4045.25,-45.75"/>
<text text-anchor="start" x="4195" y="-77.45" font-family="Times New Roman,serif" font-size="14.00">TXTReader</text>
<polyline fill="none" stroke="black" points="4045.25,-70.25 4409.25,-70.25"/>
<polyline fill="none" stroke="black" points="4045.25,-70.25 4409.25,-70.25"/>
<text text-anchor="start" x="4053.25" y="-52.95" font-family="Times New Roman,serif" font-size="14.00">read_document(start_page_number: int): list[ChunkSourceInfo]</text>
</g>
<!-- ragpon.domain.document_reader.TXTReader&#45;&gt;ragpon.domain.document_reader.AbstractDocumentReader -->
<g id="edge15" class="edge">
<title>ragpon.domain.document_reader.TXTReader&#45;&gt;ragpon.domain.document_reader.AbstractDocumentReader</title>
<path fill="none" stroke="black" d="M4181.55,-95.09C4118.02,-128.22 4002.09,-188.69 3924.35,-229.24"/>
<polygon fill="none" stroke="black" points="3923.19,-225.9 3915.94,-233.63 3926.42,-232.11 3923.19,-225.9"/>
</g>
<!-- ragpon.repository.bm25.models.create_term_model.Term -->
<g id="node60" class="node">
<title>ragpon.repository.bm25.models.create_term_model.Term</title>
<polygon fill="none" stroke="black" points="2465.25,-25.25 2465.25,-115.25 2673.25,-115.25 2673.25,-25.25 2465.25,-25.25"/>
<text text-anchor="start" x="2554.62" y="-97.95" font-family="Times New Roman,serif" font-size="14.00">Term</text>
<polyline fill="none" stroke="black" points="2465.25,-90.75 2673.25,-90.75"/>
<text text-anchor="start" x="2473.25" y="-73.45" font-family="Times New Roman,serif" font-size="14.00">document_frequency : IntegerField</text>
<text text-anchor="start" x="2473.25" y="-56.95" font-family="Times New Roman,serif" font-size="14.00">term : CharField</text>
<polyline fill="none" stroke="black" points="2465.25,-49.75 2673.25,-49.75"/>
<text text-anchor="start" x="2567.38" y="-32.45" font-family="Times New Roman,serif" font-size="14.00"> </text>
</g>
<!-- ragpon.repository.bm25.models.create_term_model.Term&#45;&gt;ragpon.repository.bm25.models.DataModels -->
<g id="edge42" class="edge">
<title>ragpon.repository.bm25.models.create_term_model.Term&#45;&gt;ragpon.repository.bm25.models.DataModels</title>
<path fill="none" stroke="black" d="M2569.25,-115.47C2569.25,-139.42 2569.25,-169.64 2569.25,-197.02"/>
<polygon fill="black" stroke="black" points="2569.25,-196.88 2573.25,-202.88 2569.25,-208.88 2565.25,-202.88 2569.25,-196.88"/>
<text text-anchor="middle" x="2583.88" y="-161.7" font-family="Times New Roman,serif" font-size="14.00" fill="green">Term</text>
</g>
<!-- ragpon.repository.bm25.models.create_term_frequency_model.TermFrequency -->
<g id="node61" class="node">
<title>ragpon.repository.bm25.models.create_term_frequency_model.TermFrequency</title>
<polygon fill="none" stroke="black" points="2690.88,-17 2690.88,-123.5 2881.62,-123.5 2881.62,-17 2690.88,-17"/>
<text text-anchor="start" x="2743.12" y="-106.2" font-family="Times New Roman,serif" font-size="14.00">TermFrequency</text>
<polyline fill="none" stroke="black" points="2690.88,-99 2881.62,-99"/>
<text text-anchor="start" x="2698.88" y="-81.7" font-family="Times New Roman,serif" font-size="14.00">document_id : ForeignKeyField</text>
<text text-anchor="start" x="2698.88" y="-65.2" font-family="Times New Roman,serif" font-size="14.00">term : ForeignKeyField</text>
<text text-anchor="start" x="2698.88" y="-48.7" font-family="Times New Roman,serif" font-size="14.00">term_frequency : IntegerField</text>
<polyline fill="none" stroke="black" points="2690.88,-41.5 2881.62,-41.5"/>
<text text-anchor="start" x="2784.38" y="-24.2" font-family="Times New Roman,serif" font-size="14.00"> </text>
</g>
<!-- ragpon.repository.bm25.models.create_term_frequency_model.TermFrequency&#45;&gt;ragpon.repository.bm25.models.DataModels -->
<g id="edge41" class="edge">
<title>ragpon.repository.bm25.models.create_term_frequency_model.TermFrequency&#45;&gt;ragpon.repository.bm25.models.DataModels</title>
<path fill="none" stroke="black" d="M2728.95,-123.86C2703.23,-147.48 2672.53,-175.67 2644.94,-201"/>
<polygon fill="black" stroke="black" points="2644.83,-201.1 2643.12,-208.1 2636,-209.21 2637.71,-202.21 2644.83,-201.1"/>
<text text-anchor="middle" x="2733.87" y="-161.7" font-family="Times New Roman,serif" font-size="14.00" fill="green">TermFrequency</text>
</g>
<!-- ragpon.domain.document_reader.WordReader -->
<g id="node62" class="node">
<title>ragpon.domain.document_reader.WordReader</title>
<polygon fill="none" stroke="black" points="4427.25,-45.75 4427.25,-94.75 4791.25,-94.75 4791.25,-45.75 4427.25,-45.75"/>
<text text-anchor="start" x="4575.12" y="-77.45" font-family="Times New Roman,serif" font-size="14.00">WordReader</text>
<polyline fill="none" stroke="black" points="4427.25,-70.25 4791.25,-70.25"/>
<polyline fill="none" stroke="black" points="4427.25,-70.25 4791.25,-70.25"/>
<text text-anchor="start" x="4435.25" y="-52.95" font-family="Times New Roman,serif" font-size="14.00">read_document(start_page_number: int): list[ChunkSourceInfo]</text>
</g>
<!-- ragpon.domain.document_reader.WordReader&#45;&gt;ragpon.domain.document_reader.AbstractDocumentReader -->
<g id="edge16" class="edge">
<title>ragpon.domain.document_reader.WordReader&#45;&gt;ragpon.domain.document_reader.AbstractDocumentReader</title>
<path fill="none" stroke="black" d="M4549.24,-95.19C4511.94,-109.52 4462.76,-127.44 4418.25,-140.5 4293.33,-177.16 4150.55,-209.58 4038.77,-232.87"/>
<polygon fill="none" stroke="black" points="4038.27,-229.4 4029.19,-234.86 4039.69,-236.25 4038.27,-229.4"/>
</g>
</g>
</svg>
